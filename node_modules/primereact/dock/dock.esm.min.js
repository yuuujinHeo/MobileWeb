import*as n from"react";import{PrimeReactContext as e}from"primereact/api";import{ComponentBase as t,useHandleStyle as o}from"primereact/componentbase";import{useMountEffect as r}from"primereact/hooks";import{Ripple as i}from"primereact/ripple";import{classNames as c,UniqueComponentId as a,mergeProps as l,ObjectUtils as p,IconUtils as m}from"primereact/utils";function u(){return u=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},u.apply(this,arguments)}function s(n){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},s(n)}function d(n,e){if("object"!==s(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var o=t.call(n,e||"default");if("object"!==s(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}function f(n){var e=d(n,"string");return"symbol"===s(e)?e:String(e)}function k(n){if(Array.isArray(n))return n}function y(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var o,r,i,c,a=[],l=!0,p=!1;try{if(i=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(o=i.call(t)).done)&&(a.push(o.value),a.length!==e);l=!0);}catch(n){p=!0,r=n}finally{try{if(!l&&null!=t.return&&(c=t.return(),Object(c)!==c))return}finally{if(p)throw r}}return a}}function b(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=n[t];return o}function g(n,e){if(n){if("string"==typeof n)return b(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?b(n,e):void 0}}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(n,e){return k(n)||y(n,e)||g(n,e)||v()}var x=t.extend({defaultProps:{__TYPE:"Dock",id:null,style:null,className:null,model:null,position:"bottom",magnification:!0,header:null,footer:null,children:void 0},css:{classes:{icon:"p-dock-action-icon",action:function(n){return c("p-dock-action",{"p-disabled":n.disabled})},menuitem:function(n){var e=n.currentIndexState,t=n.index;return c("p-dock-item",{"p-dock-item-second-prev":e-2===t,"p-dock-item-prev":e-1===t,"p-dock-item-current":e===t,"p-dock-item-next":e+1===t,"p-dock-item-second-next":e+2===t})},header:"p-dock-header",menu:"p-dock-list",footer:"p-dock-footer",root:function(n){var e=n.props;return c("p-dock p-component p-dock-".concat(e.position),{"p-dock-magnification":e.magnification})},container:"p-dock-container"},styles:"\n@layer primereact {\n    .p-dock {\n        position: absolute;\n        z-index: 1;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        pointer-events: none;\n    }\n    \n    .p-dock-container {\n        display: flex;\n        pointer-events: auto;\n    }\n    \n    .p-dock-list {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        pointer-events: auto;\n    }\n    \n    .p-dock-magnification .p-dock-item {\n        transition: all .2s cubic-bezier(0.4, 0, 0.2, 1);\n        will-change: transform;\n    }\n    \n    .p-dock-action {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        position: relative;\n        overflow: hidden;\n        cursor: default;\n    }\n    \n    .p-dock-magnification .p-dock-item-second-prev,\n    .p-dock-magnification .p-dock-item-second-next {\n        transform: scale(1.2);\n    }\n    \n    .p-dock-magnification .p-dock-item-prev,\n    .p-dock-magnification .p-dock-item-next {\n        transform: scale(1.4);\n    }\n    \n    .p-dock-magnification .p-dock-item-current {\n        transform: scale(1.6);\n        z-index: 1;\n    }\n    \n    /* Position */\n    /* top */\n    .p-dock-top {\n        left: 0;\n        top: 0;\n        width: 100%;\n    }\n    \n    .p-dock-top.p-dock-magnification .p-dock-item {\n        transform-origin: center top;\n    }\n    \n    .p-dock-top .p-dock-container {\n        flex-direction: column-reverse;\n    }\n    \n    /* bottom */\n    .p-dock-bottom {\n        left: 0;\n        bottom: 0;\n        width: 100%;\n    }\n    \n    .p-dock-bottom.p-dock-magnification .p-dock-item {\n        transform-origin: center bottom;\n    }\n    \n    .p-dock-bottom .p-dock-container {\n        flex-direction: column;\n    }\n    \n    /* right */\n    .p-dock-right {\n        right: 0;\n        top: 0;\n        height: 100%;\n    }\n    \n    .p-dock-right.p-dock-magnification .p-dock-item {\n        transform-origin: center right;\n    }\n    \n    .p-dock-right .p-dock-list {\n        flex-direction: column;\n    }\n    \n    /* left */\n    .p-dock-left {\n        left: 0;\n        top: 0;\n        height: 100%;\n    }\n    \n    .p-dock-left.p-dock-magnification .p-dock-item {\n        transform-origin: center left;\n    }\n    \n    .p-dock-left .p-dock-list {\n        flex-direction: column;\n    }\n    \n    .p-dock-left .p-dock-container {\n        flex-direction: row-reverse;\n    }\n}\n"}});function O(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,o)}return t}function j(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?O(Object(t),!0).forEach((function(e){var o,r,i;o=n,i=t[e],(r=f(r=e))in o?Object.defineProperty(o,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[r]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var S=n.memo(n.forwardRef((function(t,s){var d=h(n.useState(-3),2),f=d[0],k=d[1],y=n.useContext(e),b=x.getProps(t,y),g=h(n.useState(b.id),2),v=g[0],O=g[1],S=x.setMetaData({props:b,state:{id:v,currentIndex:f}}),w=S.ptm,E=S.cx,P=S.isUnstyled,N=n.useRef(null);o(x.css.styles,P,{name:"dock"});var D=function(n,e,t){return w(n,{context:{index:t,item:e}})},I=function(){k(-3)},A=function(n){k(n)},C=function(n,e){e.command&&e.command({originalEvent:n,item:e}),n.preventDefault()},J=function(e,t){if(!1===e.visible)return null;var o=e.disabled,r=e.icon,a=e.label,u=e.template,s=e.url,d=e.target,k=e.id||v+"_"+t,y=c("p-dock-action",{"p-disabled":o}),g=c("p-dock-action-icon",r),h=l({className:E("icon")},D("icon",e,t)),x=m.getJSXIcon(r,j({},h),{props:b}),O=l({href:s||"#",role:"menuitem",className:E("action",{disabled:o}),target:d,"data-pr-tooltip":a,onClick:function(n){return C(n,e)}},D("action",e,t)),S=n.createElement("a",O,x,n.createElement(i,null));u&&(S=p.getJSXElement(u,e,{onClick:function(n){return C(n,e)},className:y,iconClassName:g,element:S,props:b,index:t}));var w=l({id:k,key:k,className:E("menuitem",{currentIndexState:f,index:t}),role:"none",onMouseEnter:function(){return A(t)}},D("menuitem",e,t));return n.createElement("li",w,S)};r((function(){v||O(a())})),n.useImperativeHandle(s,(function(){return{props:b,getElement:function(){return N.current}}}));var M,X,z=function(){if(b.header){var e=p.getJSXElement(b.header,{props:b}),t=l({className:E("header")},w("header"));return n.createElement("div",t,e)}return null}(),T=(M=b.model?b.model.map(J):null,X=l({className:E("menu"),role:"menu",onMouseLeave:I},w("menu")),n.createElement("ul",X,M)),_=function(){if(b.footer){var e=p.getJSXElement(b.footer,{props:b}),t=l({className:E("footer")},w("footer"));return n.createElement("div",t,e)}return null}(),R=l({className:c(b.className,E("root")),style:b.style},x.getOtherProps(b),w("root")),U=l({className:E("container")},w("container"));return n.createElement("div",u({id:b.id,ref:N},R),n.createElement("div",U,z,T,_))})));S.displayName="Dock";export{S as Dock};
