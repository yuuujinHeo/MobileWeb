import*as e from"react";import n,{PrimeReactContext as t,localeOption as i}from"primereact/api";import{ComponentBase as a,useHandleStyle as r}from"primereact/componentbase";import{CSSTransition as l}from"primereact/csstransition";import{useMountEffect as o,usePrevious as c,useResizeListener as s,useUpdateEffect as u,useInterval as m,useUnmountEffect as p}from"primereact/hooks";import{TimesIcon as d}from"primereact/icons/times";import{Portal as h}from"primereact/portal";import{Ripple as f}from"primereact/ripple";import{classNames as v,mergeProps as g,IconUtils as b,UniqueComponentId as I,DomHandler as y,ObjectUtils as x,ZIndexUtils as w}from"primereact/utils";import{ChevronLeftIcon as O}from"primereact/icons/chevronleft";import{ChevronRightIcon as S}from"primereact/icons/chevronright";import{ChevronDownIcon as N}from"primereact/icons/chevrondown";import{ChevronUpIcon as E}from"primereact/icons/chevronup";function P(){return P=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},P.apply(this,arguments)}function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function j(e,n){if("object"!==C(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,n||"default");if("object"!==C(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}function T(e){var n=j(e,"string");return"symbol"===C(n)?n:String(n)}function k(e,n,t){return(n=T(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function A(e){if(Array.isArray(e))return e}function D(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,a,r,l,o=[],c=!0,s=!1;try{if(r=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(i=r.call(t)).done)&&(o.push(i.value),o.length!==n);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(s)throw a}}return o}}function V(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function B(e,n){if(e){if("string"==typeof e)return V(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?V(e,n):void 0}}function H(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(e,n){return A(e)||D(e,n)||B(e,n)||H()}var G=a.extend({defaultProps:{__TYPE:"Galleria",id:null,value:null,activeIndex:0,fullScreen:!1,item:null,thumbnail:null,indicator:null,caption:null,className:null,closeIcon:null,style:null,header:null,footer:null,numVisible:3,responsiveOptions:null,showItemNavigators:!1,showThumbnailNavigators:!0,showItemNavigatorsOnHover:!1,changeItemOnIndicatorHover:!1,circular:!1,autoPlay:!1,transitionInterval:4e3,showThumbnails:!0,itemNextIcon:null,itemPrevIcon:null,nextThumbnailIcon:null,prevThumbnailIcon:null,thumbnailsPosition:"bottom",verticalThumbnailViewPortHeight:"300px",showIndicators:!1,showIndicatorsOnItem:!1,indicatorsPosition:"bottom",baseZIndex:0,transitionOptions:null,onItemChange:null,children:void 0},css:{classes:{header:"p-galleria-header",footer:"p-galleria-footer",closeIcon:"p-galleria-close-icon",closeButton:"p-galleria-close p-link",root:function(e){var t=e.props,i=e.context;return v("p-galleria p-component",{"p-galleria-fullscreen":t.fullScreen,"p-galleria-indicator-onitem":t.showIndicatorsOnItem,"p-galleria-item-nav-onhover":t.showItemNavigatorsOnHover&&!t.fullScreen,"p-input-filled":i&&"filled"===i.inputStyle||"filled"===n.inputStyle,"p-ripple-disabled":i&&!1===i.ripple||!1===n.ripple},e.thumbnailsPosClassName,e.indicatorPosClassName)},content:"p-galleria-content",mask:function(e){return v("p-galleria-mask",{"p-galleria-visible":e.visibleState})},thumbnailItem:function(e){var n=e.subProps;return v("p-galleria-thumbnail-item",{"p-galleria-thumbnail-item-current":n.current,"p-galleria-thumbnail-item-active":n.active,"p-galleria-thumbnail-item-start":n.start,"p-galleria-thumbnail-item-end":n.end})},thumbnailItemContent:"p-galleria-thumbnail-item-content",previousThumbnailIcon:"p-galleria-thumbnail-prev-icon",previousThumbnailButton:function(e){return v("p-galleria-thumbnail-prev p-link",{"p-disabled":e.isDisabled})},nextThumbnailIcon:"p-galleria-thumbnail-next-icon",nextThumbnailButton:function(e){return v("p-galleria-thumbnail-next p-link",{"p-disabled":e.isDisabled})},thumbnailContainer:"p-galleria-thumbnail-container",thumbnailItemsContainer:"p-galleria-thumbnail-items-container",thumbnailItems:"p-galleria-thumbnail-items",thumbnailWrapper:"p-galleria-thumbnail-wrapper",previousItemIcon:"p-galleria-item-prev-icon",previousItemButton:function(e){return v("p-galleria-item-prev p-galleria-item-nav p-link",{"p-disabled":e.isDisabled})},nextItemIcon:"p-galleria-item-next-icon",nextItemButton:function(e){return v("p-galleria-item-next p-galleria-item-nav p-link",{"p-disabled":e.isDisabled})},caption:"p-galleria-caption",indicator:function(e){return v("p-galleria-indicator",{"p-highlight":e.isActive})},indicators:"p-galleria-indicators p-reset",itemWrapper:"p-galleria-item-wrapper",itemContainer:"p-galleria-item-container",item:"p-galleria-item",transition:"p-galleria"},styles:"\n@layer primereact {\n    .p-galleria-content {\n        display: flex;\n        flex-direction: column;\n    }\n    \n    .p-galleria-item-wrapper {\n        display: flex;\n        flex-direction: column;\n        position: relative;\n    }\n    \n    .p-galleria-item-container {\n        position: relative;\n        display: flex;\n        height: 100%;\n    }\n    \n    .p-galleria-item-nav {\n        position: absolute;\n        top: 50%;\n        margin-top: -.5rem;\n        display: inline-flex;\n        justify-content: center;\n        align-items: center;\n        overflow: hidden;\n    }\n    \n    .p-galleria-item-prev {\n        left: 0;\n        border-top-left-radius: 0;\n        border-bottom-left-radius: 0;\n    }\n    \n    .p-galleria-item-next {\n        right: 0;\n        border-top-right-radius: 0;\n        border-bottom-right-radius: 0;\n    }\n    \n    .p-galleria-item {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        height: 100%;\n        width: 100%;\n    }\n    \n    .p-galleria-item-nav-onhover .p-galleria-item-nav {\n        pointer-events: none;\n        opacity: 0;\n        transition: opacity .2s ease-in-out;\n    }\n    \n    .p-galleria-item-nav-onhover .p-galleria-item-wrapper:hover .p-galleria-item-nav {\n        pointer-events: all;\n        opacity: 1;\n    }\n    \n    .p-galleria-item-nav-onhover .p-galleria-item-wrapper:hover .p-galleria-item-nav.p-disabled {\n        pointer-events: none;\n    }\n    \n    .p-galleria-caption {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        width: 100%;\n    }\n    \n    /* Thumbnails */\n    .p-galleria-thumbnail-wrapper {\n        display: flex;\n        flex-direction: column;\n        overflow: auto;\n        flex-shrink: 0;\n    }\n    \n    .p-galleria-thumbnail-prev,\n    .p-galleria-thumbnail-next {\n        align-self: center;\n        flex: 0 0 auto;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        overflow: hidden;\n        position: relative;\n    }\n    \n    .p-galleria-thumbnail-prev span,\n    .p-galleria-thumbnail-next span {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n    \n    .p-galleria-thumbnail-container {\n        display: flex;\n        flex-direction: row;\n    }\n    \n    .p-galleria-thumbnail-items-container {\n        overflow: hidden;\n        width: 100%;\n    }\n    \n    .p-galleria-thumbnail-items {\n        display: flex;\n    }\n    \n    .p-galleria-thumbnail-item {\n        overflow: auto;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n        opacity: .5;\n    }\n    \n    .p-galleria-thumbnail-item:hover {\n        opacity: 1;\n        transition: opacity .3s;\n    }\n    \n    .p-galleria-thumbnail-item-current {\n        opacity: 1;\n    }\n    \n    /* Positions */\n    /* Thumbnails */\n    .p-galleria-thumbnails-left .p-galleria-content,\n    .p-galleria-thumbnails-right .p-galleria-content {\n        flex-direction: row;\n    }\n    \n    .p-galleria-thumbnails-left .p-galleria-item-wrapper,\n    .p-galleria-thumbnails-right .p-galleria-item-wrapper {\n        flex-direction: row;\n    }\n    \n    .p-galleria-thumbnails-left .p-galleria-item-wrapper,\n    .p-galleria-thumbnails-top .p-galleria-item-wrapper {\n        order: 2;\n    }\n    \n    .p-galleria-thumbnails-left .p-galleria-thumbnail-wrapper,\n    .p-galleria-thumbnails-top .p-galleria-thumbnail-wrapper {\n        order: 1;\n    }\n    \n    .p-galleria-thumbnails-left .p-galleria-thumbnail-container,\n    .p-galleria-thumbnails-right .p-galleria-thumbnail-container {\n        flex-direction: column;\n        flex-grow: 1;\n    }\n    \n    .p-galleria-thumbnails-left .p-galleria-thumbnail-items,\n    .p-galleria-thumbnails-right .p-galleria-thumbnail-items {\n        flex-direction: column;\n        height: 100%;\n    }\n    \n    /* Indicators */\n    .p-galleria-indicators {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n    \n    .p-galleria-indicator > button {\n        display: inline-flex;\n        align-items: center;\n    }\n    \n    .p-galleria-indicators-left .p-galleria-item-wrapper,\n    .p-galleria-indicators-right .p-galleria-item-wrapper {\n        flex-direction: row;\n        align-items: center;\n    }\n    \n    .p-galleria-indicators-left .p-galleria-item-container,\n    .p-galleria-indicators-top .p-galleria-item-container {\n        order: 2;\n    }\n    \n    .p-galleria-indicators-left .p-galleria-indicators,\n    .p-galleria-indicators-top .p-galleria-indicators {\n        order: 1;\n    }\n    \n    .p-galleria-indicators-left .p-galleria-indicators,\n    .p-galleria-indicators-right .p-galleria-indicators {\n        flex-direction: column;\n    }\n    \n    .p-galleria-indicator-onitem .p-galleria-indicators {\n        position: absolute;\n        display: flex;\n        z-index: 1;\n    }\n    \n    .p-galleria-indicator-onitem.p-galleria-indicators-top .p-galleria-indicators {\n        top: 0;\n        left: 0;\n        width: 100%;\n        align-items: flex-start;\n    }\n    \n    .p-galleria-indicator-onitem.p-galleria-indicators-right .p-galleria-indicators {\n        right: 0;\n        top: 0;\n        height: 100%;\n        align-items: flex-end;\n    }\n    \n    .p-galleria-indicator-onitem.p-galleria-indicators-bottom .p-galleria-indicators {\n        bottom: 0;\n        left: 0;\n        width: 100%;\n        align-items: flex-end;\n    }\n    \n    .p-galleria-indicator-onitem.p-galleria-indicators-left .p-galleria-indicators {\n        left: 0;\n        top: 0;\n        height: 100%;\n        align-items: flex-start;\n    }\n    \n    /* FullScreen */\n    .p-galleria-mask {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        pointer-events: none;\n    }\n    \n    .p-galleria-mask.p-component-overlay {\n        pointer-events: auto;\n    }\n    \n    .p-galleria-close {\n        position: absolute;\n        top: 0;\n        right: 0;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        overflow: hidden;\n    }\n    \n    .p-galleria-mask .p-galleria-item-nav {\n        position: fixed;\n        top: 50%;\n        margin-top: -.5rem;\n    }\n    \n    /* Animation */\n    .p-galleria-enter {\n        opacity: 0;\n        transform: scale(0.7);\n    }\n    \n    .p-galleria-enter-active {\n        opacity: 1;\n        transform: scale(1);\n        transition: all 150ms cubic-bezier(0, 0, 0.2, 1);\n    }\n    \n    .p-galleria-enter-done {\n        transform: none;\n    }\n    \n    .p-galleria-exit {\n        opacity: 1;\n    }\n    \n    .p-galleria-exit-active {\n        opacity: 0;\n        transform: scale(0.7);\n        transition: all 150ms cubic-bezier(0.4, 0.0, 0.2, 1);\n    }\n    \n    .p-galleria-enter-active .p-galleria-item-nav {\n        opacity: 0;\n    }\n    \n    /* Keyboard Support */\n    .p-items-hidden .p-galleria-thumbnail-item {\n        visibility: hidden;\n    }\n    \n    .p-items-hidden .p-galleria-thumbnail-item.p-galleria-thumbnail-item-active {\n        visibility: visible;\n    }\n}\n",inlineStyles:{thumbnailItemsContainer:function(e){return{height:e.height}}}}});function M(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function W(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?M(Object(t),!0).forEach((function(n){k(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):M(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var X=e.memo(e.forwardRef((function(n,t){var i=n.ptm,a=n.cx,r=function(e,t){return i(e,W({hostName:n.hostName},t))},l=function(){n.slideShowActive&&n.stopSlideShow&&n.stopSlideShow()},c=function(e){l(),n.onActiveItemChange({index:n.circular&&0===n.activeItemIndex?n.value.length-1:0!==n.activeItemIndex?n.activeItemIndex-1:0}),e&&e.cancelable&&e.preventDefault()},s=function(e){l(),n.onActiveItemChange({index:n.circular&&n.value.length-1===n.activeItemIndex?0:n.activeItemIndex+1}),e&&e.cancelable&&e.preventDefault()},u=function(e){l(),n.onActiveItemChange({index:e})},m=function(e){n.changeItemOnIndicatorHover&&(l(),n.onActiveItemChange({index:e}))},p=function(e,t){13===e.which&&(l(),n.onActiveItemChange({index:t}))};o((function(){n.autoPlay&&n.startSlideShow()}));var d=function(t){var i="p-galleria-indicator-"+t,l=n.activeItemIndex===t,o=n.indicator&&n.indicator(t),c=g({className:a("indicator",{isActive:l}),key:i,tabIndex:0,onClick:function(){return u(t)},onMouseEnter:function(){return m(t)},onKeyDown:function(e){return p(e,t)},"data-p-highlight":l},r("indicator"));return o||(o=e.createElement("button",{type:"button",tabIndex:-1,className:"p-link"},e.createElement(f,null))),e.createElement("li",c,o)},h=n.itemTemplate&&n.itemTemplate(n.value[n.activeItemIndex]),I=function(){if(n.showItemNavigators){var t=!n.circular&&0===n.activeItemIndex,i=g({className:a("previousItemIcon")},r("previousItemIcon")),l=b.getJSXIcon(n.itemPrevIcon||e.createElement(O,i),W({},i),{props:n}),o=g({type:"button",className:a("previousItemButton",{isDisabled:t}),onClick:c,disabled:t,"data-p-disabled":t},r("previousItemButton"));return e.createElement("button",o,l,e.createElement(f,null))}return null}(),y=function(){if(n.showItemNavigators){var t=!n.circular&&n.activeItemIndex===n.value.length-1,i=g({className:a("nextItemIcon")},r("nextItemIcon")),l=b.getJSXIcon(n.itemNextIcon||e.createElement(S,i),W({},i),{props:n}),o=g({type:"button",className:a("nextItemButton",{isDisabled:t}),onClick:s,disabled:t,"data-p-disabled":t},r("nextItemButton"));return e.createElement("button",o,l,e.createElement(f,null))}return null}(),x=function(){var t=g({className:a("caption")},r("caption"));if(n.caption){var i=n.caption(n.value[n.activeItemIndex]);return e.createElement("div",t,i)}return null}(),w=function(){if(n.showIndicators){for(var t=[],i=g({className:v(n.indicatorsContentClassName,a("indicators"))},r("indicators")),l=0;l<n.value.length;l++)t.push(d(l));return e.createElement("ul",i,t)}return null}(),N=g({ref:t,className:a("itemWrapper")},r("itemWrapper")),E=g({className:a("itemContainer")},r("itemContainer")),P=g({className:a("item")},r("item"));return e.createElement("div",N,e.createElement("div",E,I,e.createElement("div",P,h),y,x),w)})));function z(e){if(Array.isArray(e))return V(e)}function J(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function U(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function K(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Z(Object(t),!0).forEach((function(n){k(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}X.displayName="GalleriaItem";var Y=e.memo((function(n){var t=n.ptm,i=n.cx,a=function(e,i){return t(e,K({hostName:n.hostName},i))},r=n.active?0:null,l=n.template&&n.template(n.item),o=g({className:v(n.className,i("thumbnailItem",{subProps:n})),"data-p-galleria-thumbnail-item-current":n.current,"data-p-galleria-thumbnail-item-active":n.active,"data-p-galleria-thumbnail-item-start":n.start,"data-p-galleria-thumbnail-item-end":n.end},a("thumbnailItem")),c=g({className:i("thumbnailItemContent"),tabIndex:r,onClick:function(e){n.onItemClick({originalEvent:e,index:n.index})},onKeyDown:function(e){13===e.which&&n.onItemClick({originalEvent:e,index:n.index})}},a("thumbnailItemContent"));return e.createElement("div",o,e.createElement("div",c,l))})),_=e.memo(e.forwardRef((function(i,a){var r=R(e.useState(i.numVisible),2),l=r[0],m=r[1],p=R(e.useState(0),2),d=p[0],h=p[1],v=e.useRef(null),w=e.useRef(null),P=e.useRef(""),C=e.useRef(null),j=e.useRef(null),T=c(l),k=c(i.activeItemIndex),A=e.useContext(t),D=i.ptm,V=i.cx,H=i.sx,G=function(e,n){return D(e,K({hostName:i.hostName},n))},M=R(s({listener:function(){ae()},when:i.responsiveOptions}),1)[0],W=function(e){var n=d+e;e<0&&-1*n+l>i.value.length-1?n=l-i.value.length:e>0&&n>0&&(n=0),i.circular&&(e<0&&i.value.length-1===i.activeItemIndex?n=0:e>0&&0===i.activeItemIndex&&(n=l-i.value.length)),v.current&&(y.removeClass(v.current,"p-items-hidden"),v.current.style.transform=i.isVertical?"translate3d(0, ".concat(n*(100/l),"%, 0)"):"translate3d(".concat(n*(100/l),"%, 0, 0)"),v.current.style.transition="transform 500ms ease 0s"),h(n)},X=function(){i.slideShowActive&&i.stopSlideShow&&i.stopSlideShow()},Z=function(){var e=Math.floor(l/2);return l%2?e:e-1},_=function(e){X();var n=0!==i.activeItemIndex?i.activeItemIndex-1:0;l-(n+d)-1>Z()&&(-1*d!=0||i.circular)&&W(1),i.onActiveItemChange({index:i.circular&&0===i.activeItemIndex?i.value.length-1:n}),e.cancelable&&e.preventDefault()},F=function(e){X();var n=i.activeItemIndex+1;n+d>Z()&&(-1*d<te()-1||i.circular)&&W(-1),i.onActiveItemChange({index:i.circular&&i.value.length-1===i.activeItemIndex?0:n}),e.cancelable&&e.preventDefault()},L=function(e){X();var n=e.index;if(n!==i.activeItemIndex){var t=n+d,a=0;n<i.activeItemIndex?(a=l-t-1-Z())>0&&-1*d!=0&&W(a):(a=Z()-t)<0&&-1*d<te()-1&&W(a),i.onActiveItemChange({index:n})}},$=function(e){v.current&&"transform"===e.propertyName&&(document.body.setAttribute("data-p-items-hidden","false"),!i.isUnstyled()&&y.addClass(v.current,"p-items-hidden"),v.current.style.transition="")},q=function(e){var n=e.changedTouches[0];w.current={x:n.pageX,y:n.pageY}},Q=function(e){e.cancelable&&e.preventDefault()},ee=function(e){var n=e.changedTouches[0];ne(e,i.isVertical?n.pageY-w.current.y:n.pageX-w.current.x)},ne=function(e,n){n<0?F(e):_(e)},te=function(){return i.value.length>l?i.value.length-l+1:0},ie=function(){C.current||(C.current=y.createInlineStyle(A&&A.nonce||n.nonce));var e,t='\n            [data-pc-section="thumbnailitems"]['.concat(P.current,'] {\n                [data-pc-section="thumbnailitem"] {\n                    flex: 1 0 ').concat(100/l,"%\n                }\n            } \n        ");if(i.responsiveOptions){var a=x.localeComparator(A&&A.locale||n.locale);j.current=z(e=i.responsiveOptions)||J(e)||B(e)||U(),j.current.sort((function(e,t){return x.sort(e.breakpoint,t.breakpoint,-1,a,A&&A.nullSortOrder||n.nullSortOrder)}));for(var r=0;r<j.current.length;r++){var o=j.current[r];t+="\n                    @media screen and (max-width: ".concat(o.breakpoint,') {\n                        [data-pc-section="thumbnailitems"][').concat(P.current,'] {\n                            [data-pc-section="thumbnailitem"] {\n                                flex: 1 0 ').concat(100/o.numVisible,"%\n                            }\n                        } \n                    }\n                ")}}C.current.innerHTML=t},ae=function(){if(v.current&&j.current){for(var e=window.innerWidth,n={numVisible:i.numVisible},t=0;t<j.current.length;t++){var a=j.current[t];parseInt(a.breakpoint,10)>=e&&(n=a)}l!==n.numVisible&&m(n.numVisible)}};o((function(){v.current&&(P.current=I(),v.current.setAttribute(P.current,"")),ie(),ae(),M()})),u((function(){var e=d;T===l&&k===i.activeItemIndex||((e=i.activeItemIndex<=Z()?0:i.value.length-l+Z()<i.activeItemIndex?l-i.value.length:i.value.length-l<i.activeItemIndex&&l%2==0?-1*i.activeItemIndex+Z()+1:-1*i.activeItemIndex+Z())!==d&&h(e),v.current.style.transform=i.isVertical?"translate3d(0, ".concat(e*(100/l),"%, 0)"):"translate3d(".concat(e*(100/l),"%, 0, 0)"),k!==i.activeItemIndex&&(document.body.setAttribute("data-p-items-hidden","false"),!i.isUnstyled()&&y.removeClass(v.current,"p-items-hidden"),v.current.style.transition="transform 500ms ease 0s"))}));var re,le,oe,ce,se,ue,me,pe=function(){if(i.showThumbnailNavigators){var n=!i.circular&&0===i.activeItemIndex||i.value.length<=l,t=g({className:V("previousThumbnailIcon")},G("previousThumbnailIcon")),a=b.getJSXIcon(i.isVertical?i.prevThumbnailIcon||e.createElement(E,t):i.prevThumbnailIcon||e.createElement(O,t),K({},t),{props:i}),r=g({className:V("previousThumbnailButton",{isDisabled:n}),onClick:_,disabled:n,"data-p-disabled":n},G("previousThumbnailButton"));return e.createElement("button",r,a,e.createElement(f,null))}return null},de=function(){if(i.showThumbnailNavigators){var n=!i.circular&&i.activeItemIndex===i.value.length-1||i.value.length<=l,t=g({className:V("nextThumbnailIcon")},G("nextThumbnailIcon")),a=b.getJSXIcon(i.isVertical?i.nextThumbnailIcon||e.createElement(N,t):i.nextThumbnailIcon||e.createElement(S,t),K({},t),{props:i}),r=g({className:V("nextThumbnailButton",{isDisabled:n}),onClick:F,disabled:n,"data-p-disabled":n},G("nextThumbnailButton"));return e.createElement("button",r,a,e.createElement(f,null))}return null},he=(re=i.value.map((function(n,t){var a=-1*d,r=a+l-1;return e.createElement(Y,{key:t,index:t,template:i.itemTemplate,item:n,active:a<=t&&r>=t,start:a===t,end:r===t,onItemClick:L,current:i.activeItemIndex===t,ptm:D,cx:V,sx:H})})),le=i.isVertical?i.contentHeight:"",oe=pe(),ce=de(),se=g({className:V("thumbnailContainer")},G("thumbnailContainer")),ue=g({className:V("thumbnailItemsContainer"),style:H("thumbnailItemsContainer",{height:le})},G("thumbnailItemsContainer")),me=g({ref:v,className:V("thumbnailItems"),onTransitionEnd:$,onTouchStart:q,onTouchMove:Q,onTouchEnd:ee},G("thumbnailItems")),e.createElement("div",se,oe,e.createElement("div",ue,e.createElement("div",me,re)),ce)),fe=g({className:V("thumbnailWrapper")},G("thumbnailWrapper"));return e.createElement("div",fe,he)})));function F(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function L(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?F(Object(t),!0).forEach((function(n){k(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}Y.displayName="GalleriaThumbnailItem",_.displayName="GalleriaThumbnails";var $=e.memo(e.forwardRef((function(a,o){var c=e.useContext(t),s=G.getProps(a,c),u=R(e.useState(!1),2),I=u[0],O=u[1],S=R(e.useState(s.numVisible),2),N=S[0],E=S[1],C=R(e.useState(!1),2),j=C[0],T=C[1],k=R(e.useState(s.activeIndex),2),A=k[0],D=k[1],V=e.useRef(null),B=e.useRef(null),H=e.useRef(null),M=s.onItemChange?s.activeIndex:A,W="left"===s.thumbnailsPosition||"right"===s.thumbnailsPosition,z=G.setMetaData({props:s,state:{visible:I,numVisible:N,slideShowActive:j,activeIndex:A}}),J=z.ptm,U=z.cx,Z=z.sx,K=z.isUnstyled;r(G.css.styles,K,{name:"galleria"}),m((function(){Y({index:s.circular&&s.value.length-1===M?0:M+1})}),s.transitionInterval,j);var Y=function(e){e.index>=s.value.length?re():s.onItemChange?s.onItemChange(e):D(e.index)},F=function(){O(!0)},$=function(){O(!1)},q=function(){y.blockBodyScroll()},Q=function(){w.set("modal",H.current,c&&c.autoZIndex||n.autoZIndex,s.baseZIndex||c&&c.zIndex.modal||n.zIndex.modal),!K()&&y.addMultipleClasses(H.current,"p-component-overlay p-component-overlay-enter")},ee=function(){s.onShow&&s.onShow()},ne=function(){y.unblockBodyScroll(),!K()&&y.addClass(H.current,"p-component-overlay-leave")},te=function(){w.clear(H.current),s.onHide&&s.onHide()},ie=function(){return j},ae=function(){T(!0)},re=function(){T(!1)},le=function(e,n){var t=["top","left","bottom","right"].find((function(e){return e===n}));return t?"".concat(e,"-").concat(t):""};e.useEffect((function(){s.value&&s.value.length<N&&E(s.value.length)}),[s.value,N]),e.useEffect((function(){E(s.numVisible)}),[s.numVisible]),p((function(){j&&re(),w.clear(H.current)})),e.useImperativeHandle(o,(function(){return{props:s,show:F,hide:$,isAutoPlayActive:ie,startSlideShow:ae,stopSlideShow:re,getElement:function(){return V.current},getPreviewContent:function(){return B.current}}}));return x.isNotEmpty(s.value)&&function(){var n,t,a,r,o,u,m,p,y,x,w,O,S=(a=s.showThumbnails&&le("p-galleria-thumbnails",s.thumbnailsPosition),r=s.showIndicators&&le("p-galleria-indicators",s.indicatorsPosition),o=g({className:U("closeIcon"),"aria-hidden":!0},J("closeIcon")),u=b.getJSXIcon(s.closeIcon||e.createElement(d,o),L({},o),{props:s}),m=g({type:"button",className:U("closeButton"),"aria-label":i("close"),onClick:$},J("closeButton")),p=s.fullScreen&&e.createElement("button",m,u,e.createElement(f,null)),n=g({className:U("header")},J("header")),y=s.header?e.createElement("div",n,s.header):null,t=g({className:U("footer")},J("footer")),x=s.footer?e.createElement("div",t,s.footer):null,w=g({ref:V,id:s.id,className:v(s.className,U("root",{context:c,thumbnailsPosClassName:a,indicatorPosClassName:r})),style:s.style},G.getOtherProps(s),J("root")),O=g({className:U("content")},J("content")),e.createElement("div",w,p,y,e.createElement("div",O,e.createElement(X,{hostName:"Galleria",ref:B,value:s.value,activeItemIndex:M,onActiveItemChange:Y,itemTemplate:s.item,circular:s.circular,caption:s.caption,showIndicators:s.showIndicators,itemPrevIcon:s.itemPrevIcon,itemNextIcon:s.itemNextIcon,changeItemOnIndicatorHover:s.changeItemOnIndicatorHover,indicator:s.indicator,showItemNavigators:s.showItemNavigators,autoPlay:s.autoPlay,slideShowActive:j,startSlideShow:ae,stopSlideShow:re,ptm:J,cx:U}),s.showThumbnails&&e.createElement(_,{hostName:"Galleria",value:s.value,activeItemIndex:M,onActiveItemChange:Y,itemTemplate:s.thumbnail,numVisible:N,nextThumbnailIcon:s.nextThumbnailIcon,prevThumbnailIcon:s.prevThumbnailIcon,responsiveOptions:s.responsiveOptions,circular:s.circular,isVertical:W,contentHeight:s.verticalThumbnailViewPortHeight,showThumbnailNavigators:s.showThumbnailNavigators,autoPlay:s.autoPlay,slideShowActive:j,stopSlideShow:re,isUnstyled:K,ptm:J,cx:U,sx:Z})),x));if(s.fullScreen){var E=g({className:U("mask",{visibleState:I})},J("mask")),C=g({classNames:U("transition"),in:I,timeout:{enter:150,exit:150},options:s.transitionOptions,unmountOnExit:!0,onEnter:q,onEntering:Q,onEntered:ee,onExit:ne,onExited:te},J("transition")),T=e.createElement("div",P({ref:H},E),e.createElement(l,P({nodeRef:V},C),S));return e.createElement(h,{element:T})}return S}()})));$.displayName="Galleria";export{$ as Galleria};
