"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("primereact/api"),n=require("primereact/componentbase"),l=require("primereact/hooks"),r=require("primereact/icons/chevrondown"),o=require("primereact/icons/times"),i=require("primereact/icons/timescircle"),a=require("primereact/overlayservice"),c=require("primereact/tooltip"),s=require("primereact/utils"),u=require("primereact/csstransition"),p=require("primereact/portal"),m=require("primereact/virtualscroller"),f=require("primereact/icons/check"),d=require("primereact/icons/search"),b=require("primereact/inputtext"),v=require("primereact/ripple");function y(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var l=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,l.get?l:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var g=h(e),O=y(t);function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},x.apply(this,arguments)}function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function k(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!==S(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function I(e){var t=k(e,"string");return"symbol"===S(t)?t:String(t)}function E(e,t,n){return(t=I(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function j(e){if(Array.isArray(e))return P(e)}function w(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function C(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function N(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(e){return j(e)||w(e)||C(e)||N()}function A(e){if(Array.isArray(e))return e}function U(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var l,r,o,i,a=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(l=o.call(n)).done)&&(a.push(l.value),a.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw r}}return a}}function F(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function L(e,t){return A(e)||U(e,t)||C(e,t)||F()}var T=n.ComponentBase.extend({defaultProps:{__TYPE:"MultiSelect",appendTo:null,ariaLabelledBy:null,checkboxIcon:null,className:null,clearIcon:null,closeIcon:null,dataKey:null,disabled:!1,display:"comma",dropdownIcon:null,emptyMessage:null,emptyFilterMessage:null,filter:!1,filterBy:null,filterInputAutoFocus:!0,filterLocale:void 0,filterMatchMode:"contains",filterPlaceholder:null,filterTemplate:null,fixedPlaceholder:!1,flex:!1,id:null,inline:!1,inputId:null,inputRef:null,itemCheckboxIcon:null,itemClassName:null,itemTemplate:null,maxSelectedLabels:null,name:null,onBlur:null,onChange:null,onClick:null,onFilter:null,onFocus:null,onHide:null,onRemove:null,onSelectAll:null,onShow:null,optionDisabled:null,optionGroupChildren:null,optionGroupLabel:null,optionGroupTemplate:null,optionLabel:null,optionValue:null,options:null,overlayVisible:!1,panelClassName:null,panelFooterTemplate:null,panelHeaderTemplate:null,panelStyle:null,placeholder:null,removeIcon:null,resetFilterOnHide:!1,scrollHeight:"200px",selectAll:!1,selectedItemTemplate:null,selectedItemsLabel:"{0} items selected",selectionLimit:null,showClear:!1,showSelectAll:!0,style:null,tabIndex:0,tooltip:null,tooltipOptions:null,transitionOptions:null,useOptionAsValue:!1,value:null,virtualScrollerOptions:null,children:void 0},css:{classes:{root:function(e){var t=e.props,n=e.focusedState,l=e.overlayVisibleState;return s.classNames("p-multiselect p-component p-inputwrapper",{"p-multiselect-chip":"chip"===t.display,"p-disabled":t.disabled,"p-multiselect-clearable":t.showClear&&!t.disabled,"p-focus":n,"p-inputwrapper-filled":s.ObjectUtils.isNotEmpty(t.value),"p-inputwrapper-focus":n||l})},label:function(e){var t=e.props,n=e.empty;return s.classNames("p-multiselect-label",{"p-placeholder":n&&t.placeholder,"p-multiselect-label-empty":n&&!t.placeholder&&!t.selectedItemTemplate,"p-multiselect-items-label":!n&&"chip"!==t.display&&t.value.length>t.maxSelectedLabels})},panel:function(e){var t=e.panelProps,n=e.context;return s.classNames("p-multiselect-panel p-component",{"p-multiselect-inline":t.inline,"p-multiselect-flex":t.flex,"p-multiselect-limited":!e.allowOptionSelect,"p-input-filled":n&&"filled"===n.inputStyle||"filled"===O.default.inputStyle,"p-ripple-disabled":n&&!1===n.ripple||!1===O.default.ripple})},list:function(e){return"p-multiselect-items p-component"},labelContainer:"p-multiselect-label-container",triggerIcon:"p-multiselect-trigger-icon p-c",trigger:"p-multiselect-trigger",clearIcon:"p-multiselect-clear-icon",tokenLabel:"p-multiselect-token-label",token:"p-multiselect-token",removeTokenIcon:"p-multiselect-token-icon",wrapper:"p-multiselect-items-wrapper",emptyMessage:"p-multiselect-empty-message",itemGroup:"p-multiselect-item-group",closeButton:"p-multiselect-close p-link",header:"p-multiselect-header",closeIcon:"p-multiselect-close-icon",headerCheckboxContainer:"p-multiselect-select-all",headerCheckboxIcon:"p-multiselect-select-all p-checkbox-icon p-c",headerSelectAllLabel:"p-multiselect-select-all-label",filterContainer:"p-multiselect-filter-container",filterIcon:"p-multiselect-filter-icon",item:function(e){var t=e.itemProps;return s.classNames("p-multiselect-item",{"p-highlight":t.selected,"p-disabled":t.disabled})},checkboxContainer:"p-checkbox p-component",checkboxIcon:"p-checkbox-icon p-c",checkbox:function(e){return s.classNames("p-checkbox-box",{"p-highlight":e.itemProps.selected})},transition:"p-connected-overlay"},styles:"\n@layer primereact {\n    .p-multiselect {\n        display: inline-flex;\n        user-select: none;\n        cursor: pointer;\n    }\n    \n    .p-multiselect-trigger {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex-shrink: 0;\n        cursor: pointer;\n    }\n    \n    .p-multiselect-label-container {\n        overflow: hidden;\n        flex: 1 1 auto;\n        cursor: pointer;\n    }\n    \n    .p-multiselect-label  {\n        display: block;\n        white-space: nowrap;\n        cursor: pointer;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n    \n    .p-multiselect-label-empty {\n        overflow: hidden;\n        visibility: hidden;\n    }\n    \n    .p-multiselect-token {\n        cursor: default;\n        display: inline-flex;\n        align-items: center;\n        flex: 0 0 auto;\n    }\n    \n    .p-multiselect-token-icon {\n        cursor: pointer;\n    }\n    \n    .p-multiselect .p-multiselect-panel {\n        min-width: 100%;\n    }\n    \n    .p-multiselect-inline.p-multiselect-panel {\n        border: none;\n        position: initial;\n        background: none;\n        box-shadow: none;\n    }\n    \n    .p-multiselect-inline.p-multiselect-panel .p-multiselect-items {\n        padding: 0;\n    }\n    \n    .p-multiselect-flex.p-multiselect-panel .p-multiselect-items {\n        display: flex;\n        flex-wrap: wrap;\n    }\n    \n    .p-multiselect-items-wrapper {\n        overflow: auto;\n    }\n    \n    .p-multiselect-items {\n        margin: 0;\n        padding: 0;\n        list-style-type: none;\n    }\n    \n    .p-multiselect-item {\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        font-weight: normal;\n        white-space: nowrap;\n        position: relative;\n        overflow: hidden;\n    }\n    \n    .p-multiselect-header {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n    }\n    \n    .p-multiselect-select-all-label {\n        margin-left: 0.5rem;\n    }\n    \n    .p-multiselect-filter-container {\n        position: relative;\n        flex: 1 1 auto;\n    }\n    \n    .p-multiselect-filter-icon {\n        position: absolute;\n        top: 50%;\n        margin-top: -.5rem;\n    }\n    \n    .p-multiselect-filter-container .p-inputtext {\n        width: 100%;\n    }\n    \n    .p-multiselect-close {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex-shrink: 0;\n        overflow: hidden;\n        position: relative;\n        margin-left: auto;\n    }\n    \n    .p-multiselect-clear-icon {\n        position: absolute;\n        top: 50%;\n        margin-top: -.5rem;\n    }\n    \n    .p-fluid .p-multiselect {\n        display: flex;\n    }\n}\n",inlineStyles:{root:function(e){var t=e.props;return t.showClear&&!t.disabled&&{position:"relative"}},itemGroup:function(e){var t=e.scrollerOptions;return{height:t.props?t.props.itemSize:void 0}}}}}),M=n.ComponentBase.extend({defaultProps:{__TYPE:"Checkbox",autoFocus:!1,checked:!1,className:null,disabled:!1,falseValue:!1,icon:null,id:null,inputId:null,inputRef:null,name:null,onChange:null,onClick:null,onContextMenu:null,onMouseDown:null,readOnly:!1,required:!1,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,trueValue:!0,value:null,children:void 0},css:{classes:{icon:"p-checkbox-icon p-c",input:function(e){return s.classNames("p-checkbox-box",{"p-highlight":e.checked,"p-disabled":e.props.disabled,"p-focus":e.focusedState})},root:function(e){return s.classNames("p-checkbox p-component",{"p-checkbox-checked":e.checked,"p-checkbox-disabled":e.props.disabled,"p-checkbox-focused":e.focusedState})}},styles:"\n.p-checkbox {\n    display: inline-flex;\n    cursor: pointer;\n    user-select: none;\n    vertical-align: bottom;\n    position: relative;\n}\n\n.p-checkbox.p-checkbox-disabled {\n    cursor: auto;\n}\n\n.p-checkbox-box {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}        \n"}});function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=g.memo(g.forwardRef((function(e,r){var o=g.useContext(t.PrimeReactContext),i=M.getProps(e,o),a=L(g.useState(!1),2),u=a[0],p=a[1],m=M.setMetaData({props:i,state:{focused:u},context:{checked:i.checked===i.trueValue,disabled:i.disabled}}),d=m.ptm,b=m.cx;n.useHandleStyle(M.css.styles,m.isUnstyled,{name:"checkbox",styled:!0});var v=g.useRef(null),y=g.useRef(i.inputRef),h=function(e){if(!i.disabled&&!i.readOnly&&(i.onChange||i.onClick)){var t=O(),n=e.target instanceof HTMLDivElement||e.target instanceof HTMLSpanElement||e.target instanceof Object;if(e.target===y.current||n&&e.target.checked!==t){var l=t?i.falseValue:i.trueValue,r={originalEvent:e,value:i.value,checked:l,stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},target:{type:"checkbox",name:i.name,id:i.id,value:i.value,checked:l}};if(i.onClick&&i.onClick(r),e.defaultPrevented)return;i.onChange&&i.onChange(r)}s.DomHandler.focus(y.current),e.preventDefault()}},O=function(){return i.checked===i.trueValue};g.useImperativeHandle(r,(function(){return{props:i,focus:function(){return s.DomHandler.focus(y.current)},getElement:function(){return v.current},getInput:function(){return y.current}}})),g.useEffect((function(){s.ObjectUtils.combinedRefs(y,i.inputRef)}),[y,i.inputRef]),l.useUpdateEffect((function(){y.current.checked=O()}),[i.checked,i.trueValue]),l.useMountEffect((function(){i.autoFocus&&s.DomHandler.focus(y.current,i.autoFocus)}));var S=O(),k=s.ObjectUtils.isNotEmpty(i.tooltip),I=M.getOtherProps(i),E=s.ObjectUtils.reduceKeys(I,s.DomHandler.ARIA_PROPS),P=s.mergeProps({className:b("icon")},d("icon")),j=s.IconUtils.getJSXIcon(S?i.icon||g.createElement(f.CheckIcon,P):null,H({},P),{props:i,checked:S}),w=s.mergeProps({id:i.id,className:s.classNames(i.className,b("root",{checked:S,focusedState:u})),style:i.style,onClick:function(e){return h(e)},onContextMenu:i.onContextMenu,onMouseDown:i.onMouseDown},I,d("root")),C=s.mergeProps({className:"p-hidden-accessible"},d("hiddenInputWrapper")),N=s.mergeProps(H({id:i.inputId,type:"checkbox",name:i.name,tabIndex:i.tabIndex,defaultChecked:S,onFocus:function(e){p(!0)},onBlur:function(e){p(!1)},onKeyDown:function(e){var t;"Space"!==(t=e).code&&" "!==t.key||h(t)},disabled:i.disabled,readOnly:i.readOnly,required:i.required},E),d("hiddenInput")),D=s.mergeProps({className:b("input",{checked:S,focusedState:u}),"data-p-highlight":S,"data-p-disabled":i.disabled,"data-p-focus":u},d("input"));return g.createElement(g.Fragment,null,g.createElement("div",x({ref:v},w),g.createElement("div",C,g.createElement("input",x({ref:y},N))),g.createElement("div",D,j)),k&&g.createElement(c.Tooltip,x({target:v,content:i.tooltip},i.tooltipOptions,{pt:d("tooltip")})))})));function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}V.displayName="Checkbox";var K=g.memo((function(e){var n=e.ptm,l=e.cx,r=e.isUnstyled,i={filter:function(e){return c(e)},reset:function(){return e.resetFilter()}},a=function(t,l){return n(t,G({hostName:e.hostName},l))},c=function(t){e.onFilter&&e.onFilter({originalEvent:t,query:t.target.value})},u=function(t){e.onSelectAll&&e.onSelectAll({originalEvent:t,checked:e.selectAll}),t.preventDefault(),t.stopPropagation()},p=function(){var t=s.mergeProps({className:l("filterIcon")},a("filterIcon")),r=s.IconUtils.getJSXIcon(e.filterIcon||g.createElement(d.SearchIcon,t),G({},t),{props:e});if(e.filter){var o=s.mergeProps({className:l("filterContainer")},a("filterContainer")),u=g.createElement("div",o,g.createElement(b.InputText,{ref:e.filterRef,type:"text",role:"textbox",value:e.filterValue,onChange:c,className:"p-multiselect-filter",placeholder:e.filterPlaceholder,pt:n("filterInput"),__parentMetadata:{parent:e.metaData}}),r);if(e.filterTemplate)u=s.ObjectUtils.getJSXElement(e.filterTemplate,{className:o.className,element:u,filterOptions:i,onFilter:c,filterIconClassName:e.filterIconClassName,props:e});return g.createElement(g.Fragment,null,u)}return null}(),m=e.id?e.id+"_selectall":s.UniqueComponentId(),y=s.mergeProps({htmlFor:m,className:l("headerSelectAllLabel")},a("headerSelectAllLabel")),h=s.mergeProps({className:l("headerCheckboxIcon")},a("headerCheckboxIcon")),O=s.IconUtils.getJSXIcon(e.itemCheckboxIcon||g.createElement(f.CheckIcon,h),G({},h),{selected:e.selected}),x=e.showSelectAll&&g.createElement("div",{className:"p-multiselect-select-all"},g.createElement(V,{id:m,checked:e.selectAll,onChange:u,role:"checkbox","aria-checked":e.selectAll,icon:O,pt:n("headercheckbox"),unstyled:r()}),!e.filter&&g.createElement("label",y,e.selectAllLabel)),S=s.mergeProps({className:l("closeIcon"),"aria-hidden":!0},a("closeIcon")),k=s.IconUtils.getJSXIcon(e.closeIcon||g.createElement(o.TimesIcon,S),G({},S),{props:e}),I=s.mergeProps({className:l("header")},a("header")),E=s.mergeProps({type:"button",className:l("closeButton"),"aria-label":t.localeOption("close"),onClick:e.onClose},a("closeButton")),P=g.createElement("button",E,k,g.createElement(v.Ripple,null)),j=g.createElement("div",I,x,p,P);return e.template?s.ObjectUtils.getJSXElement(e.template,{className:"p-multiselect-header",checkboxElement:x,checked:e.selectAll,onChange:u,filterElement:p,closeElement:P,closeElementClassName:"p-multiselect-close p-link",closeIconClassName:"p-multiselect-close-icon",onCloseClick:e.onClose,element:j,itemCheckboxIcon:O,props:e}):j}));function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}K.displayName="MultiSelectHeader";var X=g.memo((function(e){var t=e.ptm,n=e.cx,l=function(n){return t(n,{hostName:e.hostName,context:{selected:e.selected}})},r=s.mergeProps({className:n("checkboxIcon")},l("checkboxIcon")),o=e.selected?s.IconUtils.getJSXIcon(e.checkboxIcon||g.createElement(f.CheckIcon,r),J({},r),{selected:e.selected}):null,i=e.template?s.ObjectUtils.getJSXElement(e.template,e.option):e.label,a=e.disabled?null:e.tabIndex||0,c=s.mergeProps({className:n("checkboxContainer")},l("checkboxContainer")),u=s.mergeProps({className:n("checkbox",{itemProps:e}),"data-p-highlight":e.selected},l("checkbox")),p=s.mergeProps({className:s.classNames(e.className,e.option.className,n("item",{itemProps:e})),style:e.style,onClick:function(t){e.onClick&&e.onClick({originalEvent:t,option:e.option}),t.preventDefault(),t.stopPropagation()},tabIndex:a,onKeyDown:function(t){e.onKeyDown&&e.onKeyDown({originalEvent:t,option:e.option})},role:"option","aria-selected":e.selected,"data-p-highlight":e.selected,"data-p-disabled":e.disabled},l("item"));return g.createElement("li",p,g.createElement("div",c,g.createElement("div",u,o)),g.createElement("span",null,i),g.createElement(v.Ripple,null))}));function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}X.displayName="MultiSelectItem";var Z=g.memo(g.forwardRef((function(e,n){var l=g.useRef(null),r=g.useRef(null),o=g.useContext(t.PrimeReactContext),i=e.ptm,a=e.cx,c=e.sx,f=e.isUnstyled,d=function(t,n){return i(t,z({hostName:e.hostName},n))},b=function(){e.onEnter((function(){if(l.current){var t=e.getSelectedOptionIndex();-1!==t&&setTimeout((function(){return l.current.scrollToIndex(t)}),0)}}))},v=function(){e.onEntered((function(){e.filter&&e.filterInputAutoFocus&&r.current&&s.DomHandler.focus(r.current,!1)}))},y=function(t){l.current&&l.current.scrollToIndex(0),e.onFilterInputChange&&e.onFilterInputChange(t)},h=function(){if(e.panelFooterTemplate){var t=s.ObjectUtils.getJSXElement(e.panelFooterTemplate,e,e.onOverlayHide);return g.createElement("div",{className:"p-multiselect-footer"},t)}return null},O=function(t,n){return e.getOptionGroupChildren(t).map((function(t,l){var r=e.getOptionLabel(t),o=l+"_"+e.getOptionRenderKey(t),c=e.isOptionDisabled(t),s=c?null:e.tabIndex||0,u=e.isSelected(t);return g.createElement(X,{hostName:e.hostName,key:o,label:r,option:t,style:n,template:e.itemTemplate,selected:u,onClick:e.onOptionSelect,onKeyDown:e.onOptionKeyDown,tabIndex:s,disabled:c,className:e.itemClassName,checkboxIcon:e.checkboxIcon,ptm:i,cx:a})}))},S=function(){var n=s.ObjectUtils.getJSXElement(e.emptyFilterMessage,e)||t.localeOption("emptyFilterMessage"),l=s.mergeProps({className:a("emptyMessage")},d("emptyMessage"));return g.createElement("li",l,n)},k=function(t,n){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={height:l.props?l.props.itemSize:void 0};if(e.optionGroupLabel){var o=e.optionGroupTemplate?s.ObjectUtils.getJSXElement(e.optionGroupTemplate,t,n):e.getOptionGroupLabel(t),u=O(t,r),p=n+"_"+e.getOptionGroupRenderKey(t),m=s.mergeProps({className:a("itemGroup"),style:c("itemGroup",{scrollerOptions:l})},d("itemGroup"));return g.createElement(g.Fragment,{key:p},g.createElement("li",m,o),u)}var f=e.getOptionLabel(t),b=n+"_"+e.getOptionRenderKey(t),v=e.isOptionDisabled(t),y=v?null:e.tabIndex||0,h=e.isSelected(t);return g.createElement(X,{hostName:e.hostName,key:b,label:f,option:t,style:r,template:e.itemTemplate,selected:h,onClick:e.onOptionSelect,onKeyDown:e.onOptionKeyDown,tabIndex:y,disabled:v,className:e.itemClassName,checkboxIcon:e.checkboxIcon,ptm:i,cx:a})},I=function(){if(e.virtualScrollerOptions){var n=z(z({},e.virtualScrollerOptions),{style:z(z({},e.virtualScrollerOptions.style),{height:e.scrollHeight}),className:s.classNames("p-multiselect-items-wrapper",e.virtualScrollerOptions.className),items:e.visibleOptions,autoSize:!0,onLazyLoad:function(t){return e.virtualScrollerOptions.onLazyLoad(z(z({},t),{filter:e.filterValue}))},itemTemplate:function(e,t){return e&&k(e,t.index,t)},contentTemplate:function(t){var n=e.visibleOptions&&e.visibleOptions.length||!e.hasFilter?t.children:S(),l=s.mergeProps({ref:t.contentRef,style:t.style,className:s.classNames(t.className,a("list",{virtualScrollerProps:e.virtualScrollerOptions})),role:"listbox","aria-multiselectable":!0},d("list"));return g.createElement("ul",l,n)}});return g.createElement(m.VirtualScroller,x({ref:l},n,{pt:i("virtualScroller"),__parentMetadata:{parent:e.metaData}}))}var r,o,c=s.ObjectUtils.isNotEmpty(e.visibleOptions)?e.visibleOptions.map(k):e.hasFilter?S():(r=s.ObjectUtils.getJSXElement(e.emptyMessage,e)||t.localeOption("emptyMessage"),o=s.mergeProps({className:a("emptyMessage")},d("emptyMessage")),g.createElement("li",o,r)),u=s.mergeProps({className:a("wrapper"),style:{maxHeight:e.scrollHeight}},d("wrapper")),p=s.mergeProps({className:a("list"),role:"listbox","aria-multiselectable":!0},d("list"));return g.createElement("div",u,g.createElement("ul",p,c))},E=function(){var t=e.allowOptionSelect(),l=g.createElement(K,{hostName:e.hostName,id:e.id,filter:e.filter,filterRef:r,filterValue:e.filterValue,filterTemplate:e.filterTemplate,onFilter:y,filterPlaceholder:e.filterPlaceholder,onClose:e.onCloseClick,showSelectAll:e.showSelectAll,selectAll:e.isAllSelected(),selectAllLabel:e.selectAllLabel,onSelectAll:e.onSelectAll,template:e.panelHeaderTemplate,resetFilter:e.resetFilter,closeIcon:e.closeIcon,filterIcon:e.filterIcon,itemCheckboxIcon:e.itemCheckboxIcon,ptm:i,cx:a,isUnstyled:f,metaData:e.metaData}),c=I(),p=h(),m=s.mergeProps({className:s.classNames(e.panelClassName,a("panel",{panelProps:e,context:o,allowOptionSelect:t})),style:e.panelStyle,onClick:e.onClick},d("panel"));if(e.inline)return g.createElement("div",x({ref:n},m),c,p);var O=s.mergeProps({classNames:a("transition"),in:e.in,timeout:{enter:120,exit:100},options:e.transitionOptions,unmountOnExit:!0,onEnter:b,onEntered:v,onExit:e.onExit,onExited:e.onExited},d("transition"));return g.createElement(u.CSSTransition,x({nodeRef:n},O),g.createElement("div",x({ref:n},m),l,c,p))}();return e.inline?E:g.createElement(p.Portal,{element:E,appendTo:e.appendTo})})));function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Q(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,r=function(){};return{s:r,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function Q(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}Z.displayName="MultiSelectPanel";var te=g.memo(g.forwardRef((function(e,u){var p=g.useContext(t.PrimeReactContext),m=T.getProps(e,p),f=L(g.useState(""),2),d=f[0],b=f[1],v=L(g.useState(!1),2),y=v[0],h=v[1],S=L(g.useState(m.inline),2),k=S[0],I=S[1],P=g.useRef(null),j=g.useRef(m.inputRef),w=g.useRef(null),C=g.useRef(null),N=d&&d.trim().length>0,A=s.ObjectUtils.isEmpty(m.value),U=m.optionValue?null:m.dataKey,F={props:m,state:{filterState:d,focused:y,overlayVisible:k}},M=T.setMetaData(F),R=M.ptm,H=M.cx,V=M.sx,q=M.isUnstyled;n.useHandleStyle(T.css.styles,q,{name:"multiselect"});var G=L(l.useOverlayListener({target:P,overlay:C,listener:function(e,t){t.valid&&("outside"===t.type?!le(e)&&!re(e)&&te():te())},when:k}),2),K=G[0],_=G[1],J=function(){return!m.selectionLimit||!m.value||m.value&&m.value.length<m.selectionLimit},X=function(e){var t=e.originalEvent,n=e.option;if(!m.disabled&&!fe(n)){var l=pe(n),r=de(n),o=ae(n),i=J();o?W(t,m.value.filter((function(e){return!s.ObjectUtils.equals(r?e:pe(e),l,U)})),n):i&&W(t,[].concat(D(m.value||[]),[l]),n)}},B=function e(t){var n=t.nextElementSibling;return n?!0===s.DomHandler.getAttribute(n,"data-p-disabled")||"itemgroup"===s.DomHandler.getAttribute(n,"data-pc-section")?e(n):n:null},z=function e(t){var n=t.previousElementSibling;return n?!0===s.DomHandler.getAttribute(n,"data-p-disabled")||"itemgroup"===s.DomHandler.getAttribute(n,"data-pc-section")?e(n):n:null},W=function(e,t,n){m.onChange&&m.onChange({originalEvent:e,value:t,selectedOption:n,stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},target:{name:m.name,id:m.id,value:t}})},Q=function(){b(""),m.onFilter&&m.onFilter({filter:""})},ee=function(){I(!0)},te=function(){I(!1)},ne=function(){s.DomHandler.alignOverlay(C.current,w.current.parentElement,m.appendTo||p&&p.appendTo||O.default.appendTo)},le=function(e){return"clearicon"===s.DomHandler.getAttribute(e.target,"data-pc-section")},re=function(e){return"headercheckboxcontainer"===s.DomHandler.getAttribute(e.target,"data-pc-section")},oe=function(e){return C.current&&C.current.contains(e.target)},ie=function(e,t){return t.findIndex((function(t){return e.some((function(e){return s.ObjectUtils.equals(e,pe(t),U)}))}))},ae=function(e){if(m.value){var t=pe(e),n=de(e);return m.value.some((function(e){return s.ObjectUtils.equals(n?e:pe(e),t,U)}))}return!1},ce=function(e){var t;if(m.options)if(m.optionGroupLabel){var n,l=$(m.options);try{for(l.s();!(n=l.n()).done;){if(t=se(e,me(n.value)))break}}catch(e){l.e(e)}finally{l.f()}}else t=se(e,m.options),s.ObjectUtils.isEmpty(t)&&(t=se(e,m.value));return t?ue(t):null},se=function(e,t){return t.find((function(t){return s.ObjectUtils.equals(pe(t),e,U)}))},ue=function(e){return m.optionLabel?s.ObjectUtils.resolveFieldData(e,m.optionLabel):e&&void 0!==e.label?e.label:e},pe=function(e){if(m.useOptionAsValue)return e;if(m.optionValue){var t=s.ObjectUtils.resolveFieldData(e,m.optionValue);return null!==t?t:e}return e&&void 0!==e.value?e.value:e},me=function(e){return s.ObjectUtils.resolveFieldData(e,m.optionGroupChildren)},fe=function(e){return m.optionDisabled?s.ObjectUtils.isFunction(m.optionDisabled)?m.optionDisabled(e):s.ObjectUtils.resolveFieldData(e,m.optionDisabled):!(!e||void 0===e.disabled)&&e.disabled},de=function(e){return!m.useOptionAsValue&&m.optionValue||e&&void 0!==e.value},be=function(e,t){var n=m.value.filter((function(e){return!s.ObjectUtils.equals(e,t,U)}));m.onRemove&&m.onRemove({originalEvent:e,value:n}),W(e,n,t)},ve=function(){var e=/{(.*?)}/;return e.test(m.selectedItemsLabel)?m.selectedItemsLabel.replace(m.selectedItemsLabel.match(e)[0],m.value.length+""):m.selectedItemsLabel},ye=function(){if(!A&&!m.fixedPlaceholder)return s.ObjectUtils.isNotEmpty(m.maxSelectedLabels)&&m.value.length>m.maxSelectedLabels?ve():s.ObjectUtils.isArray(m.value)?m.value.reduce((function(e,t,n){return e+(0!==n?", ":"")+ce(t)}),""):""};g.useImperativeHandle(u,(function(){return{props:m,show:ee,hide:te,focus:function(){return s.DomHandler.focus(j.current)},getElement:function(){return P.current},getOverlay:function(){return C.current},getInput:function(){return j.current}}})),l.useMountEffect((function(){ne()})),g.useEffect((function(){s.ObjectUtils.combinedRefs(j,m.inputRef)}),[j,m.inputRef]),g.useEffect((function(){setTimeout((function(){m.overlayVisible?ee():te()}),100)}),[m.overlayVisible]),l.useUpdateEffect((function(){k&&d&&N&&ne()}),[k,d,N]),l.useUnmountEffect((function(){s.ZIndexUtils.clear(C.current)}));var he,ge,Oe,xe=function(){if(N){var e=d.trim().toLocaleLowerCase(m.filterLocale),n=m.filterBy?m.filterBy.split(","):[m.optionLabel||"label"];if(m.optionGroupLabel){var l,r=[],o=$(m.options);try{for(o.s();!(l=o.n()).done;){var i=l.value,a=t.FilterService.filter(me(i),n,e,m.filterMatchMode,m.filterLocale);a&&a.length&&r.push(Y(Y({},i),E({},m.optionGroupChildren,a)))}}catch(e){o.e(e)}finally{o.f()}return r}return t.FilterService.filter(m.options,n,e,m.filterMatchMode,m.filterLocale)}return m.options}(),Se=s.ObjectUtils.isNotEmpty(m.tooltip),ke=T.getOtherProps(m),Ie=s.ObjectUtils.reduceKeys(ke,s.DomHandler.ARIA_PROPS),Ee=s.mergeProps({className:H("triggerIcon")},R("triggerIcon")),Pe=s.mergeProps({className:H("trigger")},R("trigger")),je=g.createElement("div",Pe,m.dropdownIcon?s.IconUtils.getJSXIcon(m.dropdownIcon,Y({},Ee),{props:m}):g.createElement(r.ChevronDownIcon,Ee)),we=!m.inline&&(he=m.selectedItemTemplate?A?s.ObjectUtils.getJSXElement(m.selectedItemTemplate):s.ObjectUtils.isNotEmpty(m.maxSelectedLabels)&&m.value.length>m.maxSelectedLabels?ve():m.value.map((function(e,t){var n=s.ObjectUtils.getJSXElement(m.selectedItemTemplate,e);return g.createElement(g.Fragment,{key:t},n)})):"chip"!==m.display||A?ye():m.value.slice(0,m.maxSelectedLabels||m.value.length).map((function(e,t){var n=ce(e),l=s.mergeProps({key:t,className:H("removeTokenIcon"),onClick:function(t){return be(t,e)}},R("removeTokenIcon")),r=!m.disabled&&(m.removeIcon?s.IconUtils.getJSXIcon(m.removeIcon,Y({},l),{props:m}):g.createElement(i.TimesCircleIcon,l)),o=s.mergeProps({className:H("token")},R("token")),a=s.mergeProps({key:n+t,className:H("tokenLabel")},R("tokenLabel"));return g.createElement("div",x({},o,{key:n}),g.createElement("span",a,n),r)})),ge=s.mergeProps({ref:w,className:H("labelContainer")},R("labelContainer")),Oe=s.mergeProps({className:H("label",{empty:A})},R("label")),g.createElement("div",ge,g.createElement("div",Oe,he||m.placeholder||"empty"))),Ce=!m.inline&&function(){var e=s.mergeProps({className:H("clearIcon"),onClick:function(e){return W(e,[],[])}},R("clearIcon")),t=s.IconUtils.getJSXIcon(m.clearIcon||g.createElement(o.TimesIcon,e),Y({},e),{props:m});return A||!m.showClear||m.disabled?null:t}(),Ne=s.mergeProps(Y(Y({ref:P,id:m.id,style:Y(Y({},m.style),V("root")),className:s.classNames(m.className,H("root",{focusedState:y,overlayVisibleState:k}))},ke),{},{onClick:function(e){m.inline||m.disabled||oe(e)||"removetokenicon"===s.DomHandler.getAttribute(e.target,"data-pc-section")||le(e)||(k?te():ee(),s.DomHandler.focus(j.current),e.preventDefault())}}),T.getOtherProps(m),R("root")),De=s.mergeProps({className:"p-hidden-accessible"},R("hiddenInputWrapper")),Ae=s.mergeProps(Y({ref:j,id:m.inputId,name:m.name,type:"text",onFocus:function(e){h(!0),m.onFocus&&m.onFocus(e)},onBlur:function(e){h(!1),m.onBlur&&m.onBlur(e)},onKeyDown:function(e){switch(e.which){case 40:if(m.inline)break;!k&&e.altKey&&(ee(),e.preventDefault());break;case 32:if(m.inline)break;k?te():ee(),e.preventDefault();break;case 27:if(m.inline)break;te();break;case 9:if(k){var t=s.DomHandler.getFirstFocusableElement(C.current);t&&(t.focus(),e.preventDefault())}}},role:"listbox","aria-expanded":k,disabled:m.disabled,tabIndex:m.tabIndex},Ie),R("input"));return g.createElement(g.Fragment,null,g.createElement("div",Ne,g.createElement("div",De,g.createElement("input",x({},Ae,{readOnly:!0}))),!m.inline&&g.createElement(g.Fragment,null,we,Ce,je),g.createElement(Z,x({hostName:"MultiSelect",ref:C,visibleOptions:xe},m,{onClick:function(e){a.OverlayService.emit("overlay-click",{originalEvent:e,target:P.current})},onOverlayHide:te,filterValue:d,hasFilter:N,onFilterInputChange:function(e){var t=e.query;b(t),m.onFilter&&m.onFilter({originalEvent:e,filter:t})},resetFilter:Q,onCloseClick:function(e){te(),s.DomHandler.focus(j.current),e.preventDefault(),e.stopPropagation()},onSelectAll:function(e){if(m.onSelectAll)m.onSelectAll(e);else{var t=null;if(e.checked){if(t=[],xe){var n=xe.filter((function(e){return fe(e)&&ae(e)}));t=n.map((function(e){return pe(e)}))}}else if(xe){var l=xe.filter((function(e){return!fe(e)||ae(e)}));m.optionGroupLabel?(t=[],l.forEach((function(e){return t=[].concat(D(t),D(me(e).filter((function(e){return!fe(e)})).map((function(e){return pe(e)}))))}))):t=l.map((function(e){return pe(e)}))}W(e.originalEvent,t,t)}},getOptionLabel:ue,getOptionRenderKey:function(e){return m.dataKey?s.ObjectUtils.resolveFieldData(e,m.dataKey):ue(e)},isOptionDisabled:fe,getOptionGroupChildren:me,getOptionGroupLabel:function(e){return s.ObjectUtils.resolveFieldData(e,m.optionGroupLabel)},getOptionGroupRenderKey:function(e){return s.ObjectUtils.resolveFieldData(e,m.optionGroupLabel)},isSelected:ae,getSelectedOptionIndex:function(){if(null!=m.value&&m.options){if(m.optionGroupLabel){var e=0,t=m.options.findIndex((function(t,n){return(e=n)&&-1!==ie(m.value,me(t))}));return-1!==t?{group:e,option:t}:-1}return ie(m.value,m.options)}return-1},isAllSelected:function(){if(m.onSelectAll)return m.selectAll;if(s.ObjectUtils.isEmpty(xe))return!1;var e=xe.filter((function(e){return!fe(e)}));if(m.optionGroupLabel){var t,n=!0,l=$(e);try{for(l.s();!(t=l.n()).done;){!0===me(t.value).filter((function(e){return!fe(e)})).some((function(e){return!ae(e)}))&&(n=!1)}}catch(e){l.e(e)}finally{l.f()}return n}return!e.some((function(e){return!ae(e)}))},onOptionSelect:X,allowOptionSelect:J,onOptionKeyDown:function(e){var t=e.originalEvent,n=t.currentTarget;switch(t.which){case 40:var l=B(n);l&&l.focus(),t.preventDefault();break;case 38:var r=z(n);r&&r.focus(),t.preventDefault();break;case 13:case 32:X(e),t.preventDefault();break;case 27:te(),s.DomHandler.focus(j.current)}},in:k,onEnter:function(e){var t;s.ZIndexUtils.set("overlay",C.current,p&&p.autoZIndex||O.default.autoZIndex,p&&p.zIndex.overlay||O.default.zIndex.overlay),s.DomHandler.addStyles(C.current,{position:"absolute",top:"0",left:"0"}),ne(),(t=s.DomHandler.findSingle(C.current,"li.p-highlight"))&&t.scrollIntoView&&t.scrollIntoView({block:"nearest",inline:"nearest"}),e&&e()},onEntered:function(e){e&&e(),K(),m.onShow&&m.onShow()},onExit:function(){_()},onExited:function(){m.filter&&m.resetFilterOnHide&&Q(),s.ZIndexUtils.clear(C.current),m.onHide&&m.onHide()},ptm:R,cx:H,sx:V,isUnstyled:q,metaData:F}))),Se&&g.createElement(c.Tooltip,x({target:P,content:m.tooltip},m.tooltipOptions,{pt:R("tooltip")})))})));te.displayName="MultiSelect",exports.MultiSelect=te;
