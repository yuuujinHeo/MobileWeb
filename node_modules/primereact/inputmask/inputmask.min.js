this.primereact=this.primereact||{},this.primereact.inputmask=function(e,r,n,t,u,c,a){"use strict";function l(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var t=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,t.get?t:{enumerable:!0,get:function(){return e[n]}})}})),r.default=e,Object.freeze(r)}var o=l(r);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},i.apply(this,arguments)}var s=a.ComponentBase.extend({defaultProps:{__TYPE:"InputMask",autoClear:!0,autoFocus:!1,className:null,disabled:!1,id:null,mask:null,maxLength:null,name:null,onBlur:null,onChange:null,onComplete:null,onFocus:null,placeholder:null,readOnly:!1,required:!1,size:null,slotChar:"_",style:null,tabIndex:null,tooltip:null,tooltipOptions:null,type:"text",unmask:!1,value:null,children:void 0}}),f=o.memo(o.forwardRef((function(e,r){var a=o.useContext(n.PrimeReactContext),l=s.getProps(e,a),f=o.useRef(null),p=o.useRef(null),v=o.useRef(0),d=o.useRef([]),m=o.useRef([]),g=o.useRef(0),h=o.useRef(null),b=o.useRef(!1),y=o.useRef(null),k=o.useRef(null),C=o.useRef(null),R=o.useRef(null),O=o.useRef(null),E=o.useRef(!1),x={props:l},j=function(e,r){var n,t,u,c=f.current;if(c&&c.offsetParent&&c===document.activeElement)return"number"!=typeof e?(c.setSelectionRange?(t=c.selectionStart,u=c.selectionEnd):document.selection&&document.selection.createRange&&(u=(t=0-(n=document.selection.createRange()).duplicate().moveStart("character",-1e5))+n.text.length),{begin:t,end:u}):(t=e,u="number"==typeof r?r:t,void(c.setSelectionRange?c.setSelectionRange(t,u):c.createTextRange&&((n=c.createTextRange()).collapse(!0),n.moveEnd("character",u),n.moveStart("character",t),n.select())))},D=function(){for(var e=p.current;e<=v.current;e++)if(d.current[e]&&m.current[e]===P(e))return!1;return!0},P=o.useCallback((function(e){return l.slotChar.charAt(e<l.slotChar.length?e:0)}),[l.slotChar]),I=function(){return l.unmask?K():f.current&&f.current.value},H=function(e){for(;++e<g.current&&!d.current[e];);return e},M=function(e){for(;--e>=0&&!d.current[e];);return e},T=function(e,r){var n,t;if(!(e<0)){for(n=e,t=H(r);n<g.current;n++)if(d.current[n]){if(!(t<g.current&&d.current[n].test(m.current[t])))break;m.current[n]=m.current[t],m.current[t]=P(t),t=H(t)}F(),j(Math.max(p.current,e))}},_=function(e){var r,n,t,u;for(r=e,n=P(e);r<g.current;r++)if(d.current[r]){if(t=H(r),u=m.current[r],m.current[r]=n,!(t<g.current&&d.current[t].test(u)))break;n=u}},S=function(e){var r=f.current.value,n=j();if(h.current.length&&h.current.length>r.length){for(z(!0);n.begin>0&&!d.current[n.begin-1];)n.begin--;if(0===n.begin)for(;n.begin<p.current&&!d.current[n.begin];)n.begin++;j(n.begin,n.begin)}else{for(z(!0);n.begin<g.current&&!d.current[n.begin];)n.begin++;j(n.begin,n.begin)}l.onComplete&&D()&&l.onComplete({originalEvent:e,value:I()}),N(e)},w=function(e){if(b.current=!1,z(),N(e),L(),l.onBlur&&l.onBlur(e),f.current.value!==y.current){var r=document.createEvent("HTMLEvents");r.initEvent("change",!0,!1),f.current.dispatchEvent(r)}},A=function(e,r){var n;for(n=e;n<r&&n<g.current;n++)d.current[n]&&(m.current[n]=P(n))},F=function(){f.current&&(f.current.value=m.current.join(""))},z=function(e){k.current=!0;var r,n,t,u=f.current&&f.current.value,c=-1;for(r=0,t=0;r<g.current;r++)if(d.current[r]){for(m.current[r]=P(r);t++<u.length;)if(n=u.charAt(t-1),d.current[r].test(n)){m.current[r]=n,c=r;break}if(t>u.length){A(r+1,g.current);break}}else m.current[r]===u.charAt(t)&&t++,r<C.current&&(c=r);return e?F():c+1<C.current?l.autoClear||m.current.join("")===R.current?(f.current&&f.current.value&&(f.current.value=""),A(0,g.current)):F():(F(),f.current&&(f.current.value=f.current.value.substring(0,c+1))),C.current?r:p.current},B=function(e){if(!l.readOnly){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])){var r=z(!0);j(r)}N(e),l.onComplete&&D()&&l.onComplete({originalEvent:e,value:I()})}},K=o.useCallback((function(){for(var e=[],r=0;r<m.current.length;r++){var n=m.current[r];d.current[r]&&n!==P(r)&&e.push(n)}return e.join("")}),[P]),N=function(e){if(l.onChange){var r=l.unmask?K():e&&e.target.value;l.onChange({originalEvent:e,value:R.current!==r?r:"",stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},target:{name:l.name,id:l.id,value:R.current!==r?r:""}})}},L=function(){f.current&&f.current.value&&f.current.value.length>0?c.DomHandler.addClass(f.current,"p-filled"):c.DomHandler.removeClass(f.current,"p-filled")},q=function(e){var r;return f.current&&(null==l.value?f.current.value="":(f.current.value=l.value,r=z(e),setTimeout((function(){if(f.current)return F(),z(e)}),10)),y.current=f.current.value),L(),r},U=o.useCallback((function(){return l.unmask?l.value!==K():R.current!==f.current.value&&f.current.value!==l.value}),[l.unmask,l.value,K]),Z=function(){if(l.mask){d.current=[],C.current=l.mask.length,g.current=l.mask.length,p.current=null;var e={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"};E.current=c.DomHandler.isChrome()&&c.DomHandler.isAndroid();for(var r=l.mask.split(""),n=0;n<r.length;n++){var t=r[n];"?"===t?(g.current--,C.current=n):e[t]?(d.current.push(new RegExp(e[t])),null===p.current&&(p.current=d.current.length-1),n<C.current&&(v.current=d.current.length-1)):d.current.push(null)}m.current=[];for(var u=0;u<r.length;u++){var a=r[u];"?"!==a&&m.current.push(e[a]?P(u):a)}R.current=m.current.join("")}};o.useImperativeHandle(r,(function(){return{props:l,focus:function(){return c.DomHandler.focus(f.current)},getElement:function(){return f.current}}})),o.useEffect((function(){c.ObjectUtils.combinedRefs(f,r)}),[f,r]),t.useMountEffect((function(){Z(),q()})),t.useUpdateEffect((function(){Z(),j(q(!0)),l.unmask&&N()}),[l.mask]),t.useUpdateEffect((function(){U()&&q()}),[U]);var Y=s.getOtherProps(l),G=c.classNames("p-inputmask",l.className);return o.createElement(u.InputText,i({ref:f,autoFocus:l.autoFocus,id:l.id,type:l.type,name:l.name,style:l.style,className:G},Y,{placeholder:l.placeholder,size:l.size,maxLength:l.maxLength,tabIndex:l.tabIndex,disabled:l.disabled,readOnly:l.readOnly,onFocus:function(e){var r;l.readOnly||(b.current=!0,clearTimeout(O.current),y.current=f.current?f.current.value:"",r=z()||0,O.current=setTimeout((function(){f.current===document.activeElement&&(F(),r===l.mask.replace("?","").length?j(0,r):j(r),L())}),100),l.onFocus&&l.onFocus(e))},onBlur:w,onKeyDown:function(e){if(!l.readOnly){var r,n,t,u=e.which||e.keyCode;h.current=f.current.value,8===u||46===u||c.DomHandler.isIOS()&&127===u?((t=(r=j()).end)-(n=r.begin)==0&&(n=46!==u?M(n):t=H(n-1),t=46===u?H(t):t),A(n,t),T(n,t-1),N(e),e.preventDefault()):13===u?(w(e),N(e)):27===u&&(f.current.value=y.current,j(0,z()),N(e),e.preventDefault())}},onKeyPress:function(e){if(!l.readOnly){var r,n,t,u,a=e.which||e.keyCode,o=j();if(!(e.ctrlKey||e.altKey||e.metaKey||a<32)){if(a&&13!==a){if(o.end-o.begin!=0&&(A(o.begin,o.end),T(o.begin,o.end-1)),(r=H(o.begin-1))<g.current&&(n=String.fromCharCode(a),d.current[r].test(n))){if(_(r),m.current[r]=n,F(),t=H(r),c.DomHandler.isAndroid()){setTimeout((function(){j(t)}),0)}else j(t);o.begin<=v.current&&(u=D())}e.preventDefault()}N(e),l.onComplete&&u&&l.onComplete({originalEvent:e,value:I()})}}},onInput:function(e){E.current?S(e):B(e)},onPaste:function(e){return B(e,!0)},required:l.required,tooltip:l.tooltip,tooltipOptions:l.tooltipOptions,pt:l.pt,unstyled:l.unstyled,__parentMetadata:{parent:x}}))})));return f.displayName="InputMask",e.InputMask=f,Object.defineProperty(e,"__esModule",{value:!0}),e}({},React,primereact.api,primereact.hooks,primereact.inputtext,primereact.utils,primereact.componentbase);
