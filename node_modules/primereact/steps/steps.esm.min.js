import*as e from"react";import{PrimeReactContext as t}from"primereact/api";import{ComponentBase as n,useHandleStyle as r}from"primereact/componentbase";import{useMountEffect as i}from"primereact/hooks";import{classNames as l,UniqueComponentId as o,mergeProps as a,IconUtils as s,ObjectUtils as c}from"primereact/utils";function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function u(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function m(e){var t=u(e,"string");return"symbol"===p(t)?t:String(t)}function f(e){if(Array.isArray(e))return e}function d(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,l,o,a=[],s=!0,c=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=l.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var g=n.extend({defaultProps:{__TYPE:"Steps",id:null,model:null,activeIndex:0,readOnly:!0,style:null,className:null,onSelect:null,children:void 0},css:{classes:{icon:function(e){return l("p-menuitem-icon",e.item.icon)},label:"p-steps-title",step:"p-steps-number",action:"p-menuitem-link",menuitem:function(e){return l("p-steps-item",e.item.className,{"p-highlight p-steps-current":e.active,"p-disabled":e.disabled})},root:function(e){var t=e.props;return l("p-steps p-component",{"p-readonly":t.readOnly},t.className)}},styles:"\n@layer primereact {\n    .p-steps {\n        position: relative;\n    }\n    \n    .p-steps ul {\n        padding: 0;\n        margin: 0;\n        list-style-type: none;\n        display: flex;\n    }\n    \n    .p-steps-item {\n        position: relative;\n        display: flex;\n        justify-content: center;\n        flex: 1 1 auto;\n    }\n    \n    .p-steps-item .p-menuitem-link {\n        display: inline-flex;\n        flex-direction: column;\n        align-items: center;\n        overflow: hidden;\n        text-decoration: none;\n    }\n    \n    .p-steps.p-readonly .p-steps-item {\n        cursor: auto;\n    }\n    \n    .p-steps-item.p-steps-current .p-menuitem-link {\n        cursor: default;\n    }\n    \n    .p-steps-title {\n        white-space: nowrap;\n    }\n    \n    .p-steps-number {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n    \n    .p-steps-title {\n        display: block;\n    }\n}\n"}});function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){var r,i,l;r=e,l=n[t],(i=m(i=t))in r?Object.defineProperty(r,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[i]=l})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=e.memo(e.forwardRef((function(n,p){var u,m,y=e.useContext(t),O=g.getProps(n,y),S=e.useState(O.id),j=(m=2,f(u=S)||d(u,m)||b(u,m)||v()),x=j[0],w=j[1],E=e.useRef(null),N=g.setMetaData({props:O,state:{id:x}}),P=N.ptm,k=N.cx;r(g.css.styles,N.isUnstyled,{name:"steps"});var I=function(e,t,n){O.readOnly||t.disabled?e.preventDefault():(O.onSelect&&O.onSelect({originalEvent:e,item:t,index:n}),t.url||e.preventDefault(),t.command&&t.command({originalEvent:e,item:t,index:n}))},C=function(t,n){if(!1===t.visible)return null;var r=t.id||x+"_"+n,i=n===O.activeIndex,o=t.disabled||n!==O.activeIndex&&O.readOnly,p=o?-1:"",u=l("p-menuitem-icon",t.icon),m=a({className:k("icon",{item:t})},P("icon")),f=s.getJSXIcon(t.icon,h({},m),{props:O}),d=a({className:k("label")},P("label")),y=t.label&&e.createElement("span",d,t.label),b=a({className:k("step")},P("step")),v=a({href:t.url||"#",className:k("action"),role:"presentation",target:t.target,onClick:function(e){return I(e,t,n)},tabIndex:p},P("action")),g=e.createElement("a",v,e.createElement("span",b,n+1),f,y);t.template&&(g=c.getJSXElement(t.template,t,{onClick:function(e){return I(e,t,n)},className:"p-menuitem-link",labelClassName:"p-steps-title",numberClassName:"p-steps-number",iconClassName:u,element:g,props:O,tabIndex:p,active:i,disabled:o}));var S=a({key:r,id:r,className:k("menuitem",{active:i,disabled:o,item:t}),style:t.style,role:"tab","aria-selected":i,"aria-expanded":i},P("menuitem"));return e.createElement("li",S,g)};i((function(){x||w(o())})),e.useImperativeHandle(p,(function(){return{props:O,getElement:function(){return E.current}}}));var D=a({id:O.id,ref:E,className:k("root"),style:O.style},g.getOtherProps(O),P("root")),A=function(){var t=a({role:"tablist"},P("menu"));if(O.model){var n=O.model.map(C);return e.createElement("ul",t,n)}return null}();return e.createElement("div",D,A)})));S.displayName="Steps";export{S as Steps};
