"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("primereact/api"),n=require("primereact/componentbase"),r=require("primereact/hooks"),a=require("primereact/icons/chevrondown"),o=require("primereact/icons/chevronleft"),l=require("primereact/icons/chevronright"),i=require("primereact/icons/chevronup"),c=require("primereact/ripple"),u=require("primereact/utils");function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var m=p(e),f=s(t);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function d(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function y(e){var t=d(e,"string");return"symbol"===v(t)?t:String(t)}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){if(Array.isArray(e))return h(e)}function x(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function P(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function N(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(e){if(Array.isArray(e))return e}function S(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,i=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return i}}function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(e,t){return I(e)||S(e,t)||P(e,t)||O()}var C=n.ComponentBase.extend({defaultProps:{__TYPE:"Carousel",id:null,value:null,page:0,header:null,footer:null,style:null,className:null,itemTemplate:null,circular:!1,showIndicators:!0,showNavigators:!0,autoplayInterval:0,numVisible:1,numScroll:1,prevIcon:null,nextIcon:null,responsiveOptions:null,orientation:"horizontal",verticalViewPortHeight:"300px",contentClassName:null,containerClassName:null,indicatorsContentClassName:null,onPageChange:null,children:void 0},css:{classes:{root:function(e){var t=e.isVertical;return u.classNames("p-carousel p-component",{"p-carousel-vertical":t,"p-carousel-horizontal":!t})},container:"p-carousel-container",content:"p-carousel-content",indicators:"p-carousel-indicators p-reset",header:"p-carousel-header",footer:"p-carousel-footer",itemsContainer:"p-carousel-items-container",itemsContent:"p-carousel-items-content",previousButton:function(e){return u.classNames("p-carousel-prev p-link",{"p-disabled":e.isDisabled})},previousButtonIcon:"p-carousel-prev-icon",nextButton:function(e){return u.classNames("p-carousel-next p-link",{"p-disabled":e.isDisabled})},nextButtonIcon:"p-carousel-next-icon",indicator:function(e){return u.classNames("p-carousel-indicator",{"p-highlight":e.isActive})},indicatorButton:"p-link",itemCloned:function(e){var t=e.itemProps;return u.classNames(t.className,"p-carousel-item",{"p-carousel-item-active":t.active,"p-carousel-item-start":t.start,"p-carousel-item-end":t.end})},item:function(e){var t=e.itemProps;return u.classNames(t.className,"p-carousel-item",{"p-carousel-item-active":t.active,"p-carousel-item-start":t.start,"p-carousel-item-end":t.end})}},styles:"\n@layer primereact {\n    .p-carousel {\n        display: flex;\n        flex-direction: column;\n    }\n    \n    .p-carousel-content {\n        display: flex;\n        flex-direction: column;\n        overflow: auto;\n    }\n    \n    .p-carousel-prev,\n    .p-carousel-next {\n        align-self: center;\n        flex-grow: 0;\n        flex-shrink: 0;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        overflow: hidden;\n        position: relative;\n    }\n    \n    .p-carousel-container {\n        display: flex;\n        flex-direction: row;\n    }\n    \n    .p-carousel-items-content {\n        overflow: hidden;\n        width: 100%;\n    }\n    \n    .p-carousel-items-container {\n        display: flex;\n        flex-direction: row;\n    }\n    \n    .p-carousel-indicators {\n        display: flex;\n        flex-direction: row;\n        justify-content: center;\n        flex-wrap: wrap;\n    }\n    \n    .p-carousel-indicator > button {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n    \n    /* Vertical */\n    .p-carousel-vertical .p-carousel-container {\n        flex-direction: column;\n    }\n    \n    .p-carousel-vertical .p-carousel-items-container {\n        flex-direction: column;\n        height: 100%;\n    }\n    \n    /* Keyboard Support */\n    .p-items-hidden .p-carousel-item {\n        visibility: hidden;\n    }\n    \n    .p-items-hidden .p-carousel-item.p-carousel-item-active {\n        visibility: visible;\n    }\n}\n",inlineStyles:{itemsContent:function(e){return{height:e.height}}}}});function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){var r,a,o;r=e,o=n[t],(a=y(a=t))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=m.memo((function(e){var t=e.ptm,n=e.cx,r=e.className&&"p-carousel-item-cloned"===e.className?"itemCloned":"item",a=e.template(e.item),o=u.mergeProps({className:n(r,{itemProps:e}),"data-p-carousel-item-active":e.active,"data-p-carousel-item-start":e.start,"data-p-carousel-item-end":e.end},t(r));return m.createElement("div",o,a)})),D=m.memo(m.forwardRef((function(e,s){var p=m.useContext(t.PrimeReactContext),v=C.getProps(e,p),d=w(m.useState(v.numVisible),2),y=d[0],h=d[1],I=w(m.useState(v.numScroll),2),S=I[0],O=I[1],E=w(m.useState(v.page*v.numScroll*-1),2),D=E[0],R=E[1],B=w(m.useState(v.page),2),T=B[0],A=B[1],V=C.setMetaData({props:v,state:{numVisible:y,numScroll:S,totalShiftedItems:D,page:T}}),M=V.ptm,q=V.cx,H=V.sx,L=V.isUnstyled;n.useHandleStyle(C.css.styles,L,{name:"carousel"});var U=m.useRef(null),_=m.useRef(null),z=m.useRef(0),X=m.useRef(!!v.autoplayInterval),Y=m.useRef(""),J=m.useRef(20),F=m.useRef(null),K=m.useRef(null),W=m.useRef(null),$=m.useRef(!1),G=m.useRef(null),Q=r.usePrevious(S),Z=r.usePrevious(y),ee=r.usePrevious(v.value),te=r.usePrevious(v.page),ne="vertical"===v.orientation,re=v.circular||!!v.autoplayInterval,ae=re&&v.value&&v.value.length>=y,oe=v.value?Math.max(Math.ceil((v.value.length-y)/S)+1,0):0,le=oe&&v.autoplayInterval&&X.current,ie=v.onPageChange&&!le,ce=ie?v.page:T,ue=w(r.useResizeListener({listener:function(){pe()},when:v.responsiveOptions}),1)[0],se=function(e,t){var n=D;null!=t?(n=S*t*-1,ae&&(n-=y),$.current=!1):(n+=S*e,$.current&&(n+=z.current-S*e,$.current=!1),t=Math.abs(Math.floor((ae?n+y:n)/S)));ae&&T===oe-1&&-1===e?(n=-1*(v.value.length+y),t=0):ae&&0===T&&1===e?(n=0,t=oe-1):t===oe-1&&z.current>0&&(n+=-1*z.current-S*e,$.current=!0),_.current&&(!L()&&u.DomHandler.removeClass(_.current,"p-items-hidden"),Ie(n),_.current.style.transition="transform 500ms ease 0s"),Se(t),R(n)},pe=function(){if(_.current&&G.current){for(var e=window.innerWidth,t={numVisible:v.numVisible,numScroll:v.numScroll},n=0;n<G.current.length;n++){var r=G.current[n];parseInt(r.breakpoint,10)>=e&&(t=r)}if(S!==t.numScroll){var a=Math.floor(ce*S/t.numScroll),o=t.numScroll*a*-1;ae&&(o-=t.numVisible),R(o),O(t.numScroll),Se(a)}y!==t.numVisible&&h(t.numVisible)}},me=function(e,t){(re||0!==ce)&&se(1,t),X.current=!1,e.cancelable&&e.preventDefault()},fe=function(e,t){(re||ce<oe-1)&&se(-1,t),X.current=!1,e.cancelable&&e.preventDefault()},ve=function(e,t){t>ce?fe(e,t):t<ce&&me(e,t)},de=function(e){_.current&&"transform"===e.propertyName&&(u.DomHandler.addClass(_.current,"p-items-hidden"),_.current.style.transition="",0!==T&&T!==oe-1||!ae||Ie(D))},ye=function(e){var t=e.changedTouches[0];F.current={x:t.pageX,y:t.pageY}},be=function(e){e.cancelable&&e.preventDefault()},he=function(e){var t=e.changedTouches[0];ge(e,ne?t.pageY-F.current.y:t.pageX-F.current.x)},ge=function(e,t){Math.abs(t)>J.current&&(t<0?fe(e):me(e))},xe=function(){v.autoplayInterval>0&&(K.current=setInterval((function(){se(-1,T===oe-1?0:T+1)}),v.autoplayInterval))},Pe=function(){K.current&&clearInterval(K.current)},Ne=function(){W.current||(W.current=u.DomHandler.createInlineStyle(p&&p.nonce||f.default.nonce));var e,t="\n            .p-carousel[".concat(Y.current,"] .p-carousel-item {\n                flex: 1 0 ").concat(100/y,"%\n            }\n        ");if(v.responsiveOptions){var n=u.ObjectUtils.localeComparator(p&&p.locale||f.default.locale);G.current=g(e=v.responsiveOptions)||x(e)||P(e)||N(),G.current.sort((function(e,t){return u.ObjectUtils.sort(e.breakpoint,t.breakpoint,-1,n,p&&p.nullSortOrder||f.default.nullSortOrder)}));for(var r=0;r<G.current.length;r++){var a=G.current[r];t+="\n                    @media screen and (max-width: ".concat(a.breakpoint,") {\n                        .p-carousel[").concat(Y.current,"] .p-carousel-item {\n                            flex: 1 0 ").concat(100/a.numVisible,"%\n                        }\n                    }\n                ")}}W.current.innerHTML=t},Ie=function(e){_.current&&(_.current.style.transform=ne?"translate3d(0, ".concat(e*(100/y),"%, 0)"):"translate3d(".concat(e*(100/y),"%, 0, 0)"))},Se=function(e){!ie&&A(e),v.onPageChange&&v.onPageChange({page:e})};m.useImperativeHandle(s,(function(){return{props:v,startAutoplay:xe,stopAutoplay:Pe,getElement:function(){return U.current}}})),r.useMountEffect((function(){U.current&&(Y.current=u.UniqueComponentId(),U.current.setAttribute(Y.current,"")),W.current||(pe(),Ie(D),ue())})),r.useUpdateEffect((function(){var e=!1,t=D;if(Ne(),v.autoplayInterval&&Pe(),Q!==S||Z!==y||v.value&&ee&&ee.length!==v.value.length){z.current=(v.value.length-y)%S;var n=ce;0!==oe&&n>=oe&&(Se(n=oe-1),e=!0),t=n*S*-1,ae&&(t-=y),n===oe-1&&z.current>0?(t+=-1*z.current+S,$.current=!0):$.current=!1,t!==D&&(R(t),e=!0),Ie(t)}return ae&&(0===T?t=-1*y:0===t&&(t=-1*v.value.length,z.current>0&&($.current=!0)),t!==D&&(R(t),e=!0)),te!==v.page&&(v.page>te&&v.page<=oe-1?se(-1,v.page):v.page<te&&se(1,v.page)),!e&&le&&xe(),function(){v.autoplayInterval&&Pe(),W.current=u.DomHandler.removeInlineStyle(W.current)}}));var Oe,we,Ce,Ee,je,ke,De,Re=function(){if(v.value&&v.value.length){var e=null,t=null;if(ae){var n=null;e=(n=v.value.slice(-1*y)).map((function(e,t){return m.createElement(k,{key:t+"_scloned",className:"p-carousel-item-cloned",template:v.itemTemplate,item:e,active:-1*D===v.value.length+y,start:0===t,end:t===n.length-1,ptm:M,cx:q})})),t=(n=v.value.slice(0,y)).map((function(e,t){return m.createElement(k,{key:t+"_fcloned",className:"p-carousel-item-cloned",template:v.itemTemplate,item:e,active:0===D,start:0===t,end:t===n.length-1,ptm:M,cx:q})}))}var r=v.value.map((function(e,t){var n=ae?-1*(D+y):-1*D,r=n+y-1;return m.createElement(k,{key:t,template:v.itemTemplate,item:e,active:n<=t&&r>=t,start:n===t,end:r===t,ptm:M,cx:q})}));return m.createElement(m.Fragment,null,e,r,t)}},Be=function(){if(v.showNavigators){var e=(!re||v.value&&v.value.length<y)&&0===ce,n=u.mergeProps({className:q("previousButtonIcon")},M("previousButtonIcon")),r=u.IconUtils.getJSXIcon(ne?v.prevIcon||m.createElement(i.ChevronUpIcon,n):v.prevIcon||m.createElement(o.ChevronLeftIcon,n),j({},n),{props:v}),a=u.mergeProps({type:"button",className:q("previousButton",{isDisabled:e}),onClick:function(e){return me(e)},disabled:e,"aria-label":t.ariaLabel("previousPageLabel")},M("previousButton"));return m.createElement("button",a,r,m.createElement(c.Ripple,null))}return null},Te=function(){if(v.showNavigators){var e=(!re||v.value&&v.value.length<y)&&(ce===oe-1||0===oe),n=u.mergeProps({className:q("nextButtonIcon")},M("nextButtonIcon")),r=u.IconUtils.getJSXIcon(ne?v.nextIcon||m.createElement(a.ChevronDownIcon,n):v.nextIcon||m.createElement(l.ChevronRightIcon,n),j({},n),{props:v}),o=u.mergeProps({type:"button",className:q("nextButton",{isDisabled:e}),onClick:function(e){return fe(e)},disabled:e,"aria-label":t.ariaLabel("nextPageLabel")},M("nextButton"));return m.createElement("button",o,r,m.createElement(c.Ripple,null))}return null},Ae=function(e){var n=ce===e,r=function(e){return M(e,{context:{active:n}})},a=u.mergeProps({key:"carousel-indicator-"+e,className:q("indicator",{isActive:n}),"data-p-highlight":n},r("indicator")),o=u.mergeProps({type:"button",className:q("indicatorButton"),onClick:function(t){return ve(t,e)},"aria-label":"".concat(t.ariaLabel("pageLabel")," ").concat(e+1)},r("indicatorButton"));return m.createElement("li",a,m.createElement("button",o,m.createElement(c.Ripple,null)))},Ve=(Oe=Re(),we=ne?v.verticalViewPortHeight:"auto",Ce=Be(),Ee=Te(),je=u.mergeProps({className:q("itemsContent"),style:H("itemsContent",{height:we}),onTouchStart:function(e){return ye(e)},onTouchMove:function(e){return be(e)},onTouchEnd:function(e){return he(e)}},M("itemsContent")),ke=u.mergeProps({className:u.classNames(v.containerClassName,q("container"))},M("container")),De=u.mergeProps({className:q("itemsContainer"),onTransitionEnd:de},M("itemsContainer")),m.createElement("div",ke,Ce,m.createElement("div",je,m.createElement("div",b({ref:_},De),Oe)),Ee)),Me=function(){if(v.showIndicators){for(var e=[],t=0;t<oe;t++)e.push(Ae(t));var n=u.mergeProps({className:u.classNames(v.indicatorsContentClassName,q("indicators"))},M("indicators"));return m.createElement("ul",n,e)}return null}(),qe=function(){if(v.header){var e=u.mergeProps({className:q("header")},M("header"));return m.createElement("div",e,v.header)}return null}(),He=function(){if(v.footer){var e=u.mergeProps({className:q("footer")},M("footer"));return m.createElement("div",e,v.footer)}return null}(),Le=u.mergeProps({id:v.id,ref:U,className:u.classNames(v.className,q("root",{isVertical:ne})),style:v.style},C.getOtherProps(v),M("root")),Ue=u.mergeProps({className:u.classNames(v.contentClassName,q("content"))},M("content"));return m.createElement("div",Le,qe,m.createElement("div",Ue,Ve,Me),He)})));k.displayName="CarouselItem",D.displayName="Carousel",exports.Carousel=D;
