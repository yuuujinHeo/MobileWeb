"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),n=require("primereact/api"),t=require("primereact/componentbase"),r=require("primereact/hooks"),o=require("primereact/icons/bars"),u=require("primereact/utils"),i=require("primereact/icons/angledown"),a=require("primereact/icons/angleright"),l=require("primereact/ripple");function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var n=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}})),n.default=e,Object.freeze(n)}var m=s(e),p=c(n);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function b(e,n){if("object"!==f(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}function d(e){var n=b(e,"string");return"symbol"===f(n)?n:String(n)}function y(e,n,t){return(n=d(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function v(e){if(Array.isArray(e))return e}function g(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,u,i,a=[],l=!0,c=!1;try{if(u=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=u.call(t)).done)&&(a.push(r.value),a.length!==n);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw o}}return a}}function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function O(e,n){if(e){if("string"==typeof e)return h(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?h(e,n):void 0}}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,n){return v(e)||g(e,n)||O(e,n)||P()}var j=t.ComponentBase.extend({defaultProps:{__TYPE:"Menubar",id:null,model:null,style:null,className:null,start:null,submenuIcon:null,menuIcon:null,end:null,children:void 0},css:{classes:{start:"p-menubar-start",end:"p-menubar-end",button:"p-menubar-button",root:function(e){return u.classNames("p-menubar p-component",{"p-menubar-mobile-active":e.mobileActiveState})},separator:"p-menu-separator",icon:"p-menuitem-icon",label:"p-menuitem-text",submenuIcon:"p-submenu-icon",menuitem:function(e){return u.classNames("p-menuitem",{"p-menuitem-active":e.activeItemState===e.item})},menu:"p-menubar-root-list",submenu:"p-submenu-list",action:function(e){return u.classNames("p-menuitem-link",{"p-disabled":e.item.disabled})}},styles:"\n@layer primereact {\n    .p-menubar {\n        display: flex;\n        align-items: center;\n    }\n    \n    .p-menubar ul {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n    }\n    \n    .p-menubar .p-menuitem-link {\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        text-decoration: none;\n        overflow: hidden;\n        position: relative;\n    }\n    \n    .p-menubar .p-menuitem-text {\n        line-height: 1;\n    }\n    \n    .p-menubar .p-menuitem {\n        position: relative;\n    }\n    \n    .p-menubar-root-list {\n        display: flex;\n        align-items: center;\n        flex-wrap: wrap;\n    }\n    \n    .p-menubar-root-list > li ul {\n        display: none;\n        z-index: 1;\n    }\n    \n    .p-menubar-root-list > .p-menuitem-active > .p-submenu-list {\n        display: block;\n    }\n    \n    .p-menubar .p-submenu-list {\n        display: none;\n        position: absolute;\n        z-index: 1;\n    }\n    \n    .p-menubar .p-submenu-list > .p-menuitem-active > .p-submenu-list {\n        display: block;\n        left: 100%;\n        top: 0;\n    }\n    \n    .p-menubar .p-submenu-list .p-menuitem-link .p-submenu-icon {\n        margin-left: auto;\n    }\n    \n    .p-menubar .p-menubar-custom,\n    .p-menubar .p-menubar-end {\n        margin-left: auto;\n        align-self: center;\n    }\n    \n    .p-menubar-button {\n        display: none;\n        cursor: pointer;\n        align-items: center;\n        justify-content: center;\n        text-decoration: none;\n    }\n}\n"}});function I(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?I(Object(t),!0).forEach((function(n){y(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var S=m.memo(m.forwardRef((function(e,n){var t=E(m.useState(null),2),o=t[0],c=t[1],s=e.ptm,p=e.cx,f=function(n,t){return s(t,{props:e,hostName:e.hostName,context:{active:o===n}})},b=E(r.useEventListener({type:"click",listener:function(e){n&&n.current&&!n.current.contains(e.target)&&c(null)}}),1)[0],d=function(n,t){t.disabled||e.mobileActive?n.preventDefault():e.root?(o||e.popup)&&c(t):c(t)},y=function(e,n){n.disabled?e.preventDefault():(n.url||e.preventDefault(),n.command&&n.command({originalEvent:e,item:n}),n.items?c(o&&n===o?null:n):x())},v=function(n,t){var r=n.currentTarget.parentElement;switch(n.which){case 40:e.root?t.items&&h(t,r):P(r),n.preventDefault();break;case 38:!e.root&&j(r),n.preventDefault();break;case 39:if(e.root){var o=I(r);o&&o.children[0].focus()}else t.items&&h(t,r);n.preventDefault();break;case 37:e.root&&j(r),n.preventDefault()}e.onKeyDown&&e.onKeyDown(n,r)},g=function(n,t){e.root?38===n.which&&null==t.previousElementSibling&&O(t):37===n.which&&O(t)},h=function(e,n){c(e),setTimeout((function(){n.children[1].children[0].children[0].focus()}),50)},O=function(e){c(null),e.parentElement.previousElementSibling.focus()},P=function(e){var n=I(e);n&&n.children[0].focus()},j=function(e){var n=N(e);n&&n.children[0].focus()},I=function e(n){var t=n.nextElementSibling;return t?u.DomHandler.getAttribute(t,'[data-p-disabled="true"]')||!u.DomHandler.getAttribute(t,'[data-pc-section="menuitem"]')?e(t):t:null},N=function e(n){var t=n.previousElementSibling;return t?u.DomHandler.getAttribute(t,'[data-p-disabled="true"]')||!u.DomHandler.getAttribute(t,'[data-pc-section="menuitem"]')?e(t):t:null},x=function(){c(null),e.onLeafClick&&e.onLeafClick()};r.useMountEffect((function(){b()})),r.useUpdateEffect((function(){!e.parentActive&&c(null)}),[e.parentActive]);var D=function(n){var t=e.id+"_separator_"+n,r=u.mergeProps({id:t,key:t,className:p("separator"),role:"separator"},s("separator",{hostName:e.hostName}));return m.createElement("li",r)},k=function(n,t){return n.items?m.createElement(S,{id:e.id+"_"+t,hostName:e.hostName,menuProps:e.menuProps,model:n.items,mobileActive:e.mobileActive,onLeafClick:x,onKeyDown:g,parentActive:n===o,submenuIcon:e.submenuIcon,ptm:s,cx:p}):null},A=function(n,t){if(!1===n.visible)return null;var r=n.id||e.id+"_"+t,c=u.classNames("p-menuitem-link",{"p-disabled":n.disabled}),s=u.classNames("p-menuitem-icon",n.icon),b=u.mergeProps({className:p("icon")},f(n,"icon")),g=u.IconUtils.getJSXIcon(n.icon,w({},b),{props:e.menuProps}),h=u.mergeProps({className:p("label")},f(n,"label")),O=n.label&&m.createElement("span",h,n.label),P=u.mergeProps({className:p("submenuIcon")},f(n,"submenuIcon")),E=n.items&&u.IconUtils.getJSXIcon(e.root?e.submenuIcon||m.createElement(i.AngleDownIcon,P):e.submenuIcon||m.createElement(a.AngleRightIcon,P),w({},P),{props:w({menuProps:e.menuProps},e)}),j=k(n,t),I=u.mergeProps({href:n.url||"#",role:"menuitem",className:p("action",{item:n}),target:n.target,"aria-haspopup":null!=n.items,onClick:function(e){return y(e,n)},onKeyDown:function(e){return v(e,n)}},f(n,"action")),S=m.createElement("a",I,g,O,E,m.createElement(l.Ripple,null));n.template&&(S=u.ObjectUtils.getJSXElement(n.template,n,{onClick:function(e){return y(e,n)},onKeyDown:function(e){return v(e,n)},className:c,labelClassName:"p-menuitem-text",iconClassName:s,submenuIconClassName:"p-submenu-icon",element:S,props:e}));var N=u.mergeProps({id:r,key:r,role:"none",className:u.classNames(n.className,p("menuitem",{item:n,activeItemState:o})),onMouseEnter:function(e){return d(e,n)},"data-p-disabled":n.disabled||!1},f(n,"menuitem"));return m.createElement("li",N,S,j)},C=e.root?"menubar":"menu",U=e.root?"menu":"submenu",M=e.model?e.model.map((function(e,n){return e.separator?D(n):A(e,n)})):null,q=u.mergeProps({ref:n,className:p(U),style:!e.root&&{display:e.parentActive?"block":"none"},role:C},s(U));return m.createElement("ul",q,M)})));function N(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?N(Object(t),!0).forEach((function(n){y(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):N(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}S.displayName="MenubarSub";var D=m.memo(m.forwardRef((function(e,i){var a=m.useContext(n.PrimeReactContext),l=j.getProps(e,a),c=E(m.useState(l.id),2),s=c[0],f=c[1],b=E(m.useState(!1),2),d=b[0],y=b[1],v=m.useRef(null),g=m.useRef(null),h=m.useRef(null),O=j.setMetaData({props:l,state:{id:s,mobileActive:d}}),P=O.ptm,I=O.cx;t.useHandleStyle(j.css.styles,O.isUnstyled,{name:"menubar"});var w=E(r.useEventListener({type:"click",listener:function(e){d&&A(e)&&y(!1)}}),2),N=w[0],D=w[1],k=function(e){e.preventDefault(),y((function(e){return!e}))},A=function(e){return g.current!==e.target&&!g.current.contains(e.target)&&h.current!==e.target&&!h.current.contains(e.target)};r.useMountEffect((function(){s||f(u.UniqueComponentId())})),r.useUpdateEffect((function(){d?(u.ZIndexUtils.set("menu",g.current,a&&a.autoZIndex||p.default.autoZIndex,a&&a.zIndex.menu||p.default.zIndex.menu),N()):(D(),u.ZIndexUtils.clear(g.current))}),[d]),r.useUnmountEffect((function(){u.ZIndexUtils.clear(g.current)})),m.useImperativeHandle(i,(function(){return{props:l,toggle:k,getElement:function(){return v.current},getRootMenu:function(){return g.current},getMenuButton:function(){return h.current}}}));var C=function(){if(l.start){var e=u.ObjectUtils.getJSXElement(l.start,l),n=u.mergeProps({className:I("start")},P("start"));return m.createElement("div",n,e)}return null}(),U=function(){if(l.end){var e=u.ObjectUtils.getJSXElement(l.end,l),n=u.mergeProps({className:I("end")},P("end"));return m.createElement("div",n,e)}return null}(),M=function(){if(l.model&&l.model.length<1)return null;var e=u.mergeProps({ref:h,href:"#",role:"button",tabIndex:0,className:I("button"),onClick:function(e){return k(e)}},P("button")),n=u.mergeProps(P("popupIcon")),t=u.IconUtils.getJSXIcon(l.menuIcon||m.createElement(o.BarsIcon,n),x({},n),{props:l});return m.createElement("a",e,t)}(),q=m.createElement(S,{hostName:"Menubar",id:s,ref:g,menuProps:l,model:l.model,root:!0,mobileActive:d,onLeafClick:function(){y(!1)},submenuIcon:l.submenuIcon,ptm:P,cx:I}),_=u.mergeProps({id:l.id,className:u.classNames(l.className,I("root",{mobileActiveState:d})),style:l.style},j.getOtherProps(l),P("root"));return m.createElement("div",_,C,M,q,U)})));D.displayName="Menubar",exports.Menubar=D;
